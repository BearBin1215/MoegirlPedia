(()=>{var e={9286:function(e,t,n){let{render:r,hydrate:o,unmountComponentAtNode:u}=n(9838);t.createRoot=function(e){return{render:function(t){r(t,e)},unmount:function(){u(e)}}}},9838:function(e,t,n){"use strict";n.r(t),n.d(t,{useSyncExternalStore:()=>I,isElement:()=>eD,cloneElement:()=>eP,createContext:()=>i.kr,Component:()=>i.wA,PureComponent:()=>V,flushSync:()=>eT,unstable_batchedUpdates:()=>eO,Suspense:()=>ee,useInsertionEffect:()=>q,useState:()=>y,version:()=>ex,createFactory:()=>eS,useReducer:()=>g,memo:()=>B,render:()=>ep,lazy:()=>en,useContext:()=>S,useRef:()=>w,useTransition:()=>L,startTransition:()=>Y,Children:()=>J,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>eC,isFragment:()=>eM,findDOMNode:()=>eH,useCallback:()=>x,SuspenseList:()=>er,createPortal:()=>ei,hydrate:()=>ed,useErrorBoundary:()=>M,createRef:()=>i.Vf,isValidElement:()=>eN,useDebugValue:()=>N,default:()=>eF,useEffect:()=>b,useId:()=>R,createElement:()=>i.az,forwardRef:()=>K,useImperativeHandle:()=>k,StrictMode:()=>eA,Fragment:()=>i.HY,useDeferredValue:()=>W,isMemo:()=>eR,unmountComponentAtNode:()=>eU,useLayoutEffect:()=>E,useMemo:()=>C});var r,o,u,l,i=n(1206),a=0,_=[],c=i.YM,f=c.__b,s=c.__r,p=c.diffed,d=c.__c,m=c.unmount,h=c.__;function v(e,t){c.__h&&c.__h(o,e,a||t),a=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function y(e){return a=1,g(A,e)}function g(e,t,n){var u=v(r++,2);if(u.t=e,!u.__c&&(u.__=[n?n(t):A(void 0,t),function(e){var t=u.__N?u.__N[0]:u.__[0],n=u.t(t,e);t!==n&&(u.__N=[n,u.__[1]],u.__c.setState({}))}],u.__c=o,!o.__f)){var l=function(e,t,n){if(!u.__c.__H)return!0;var r=u.__c.__H.__.filter(function(e){return!!e.__c});if(r.every(function(e){return!e.__N}))return!i||i.call(this,e,t,n);var o=u.__c.props!==e;return r.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),i&&i.call(this,e,t,n)||o};o.__f=!0;var i=o.shouldComponentUpdate,a=o.componentWillUpdate;o.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,l(e,t,n),i=r}a&&a.call(this,e,t,n)},o.shouldComponentUpdate=l}return u.__N||u.__}function b(e,t){var n=v(r++,3);!c.__s&&T(n.__H,t)&&(n.__=e,n.u=t,o.__H.__h.push(n))}function E(e,t){var n=v(r++,4);!c.__s&&T(n.__H,t)&&(n.__=e,n.u=t,o.__h.push(n))}function w(e){return a=5,C(function(){return{current:e}},[])}function k(e,t,n){a=6,E(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function C(e,t){var n=v(r++,7);return T(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function x(e,t){return a=8,C(function(){return e},t)}function S(e){var t=o.context[e.__c],n=v(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__}function N(e,t){c.useDebugValue&&c.useDebugValue(t?t(e):e)}function M(e){var t=v(r++,10),n=y();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function R(){var e=v(r++,11);if(!e.__){for(var t=o.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function P(){for(var e;e=_.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(H),e.__H.__h.forEach(O),e.__H.__h=[]}catch(t){e.__H.__h=[],c.__e(t,e.__v)}}c.__b=function(e){o=null,f&&f(e)},c.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),h&&h(e,t)},c.__r=function(e){s&&s(e),r=0;var t=(o=e.__c).__H;t&&(u===o?(t.__h=[],o.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(H),t.__h.forEach(O),t.__h=[],r=0)),u=o},c.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==_.push(t)&&l===c.requestAnimationFrame||((l=c.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),U&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);U&&(t=requestAnimationFrame(n))})(P)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),u=o=null},c.__c=function(e,t){t.some(function(e){try{e.__h.forEach(H),e.__h=e.__h.filter(function(e){return!e.__||O(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],c.__e(n,e.__v)}}),d&&d(e,t)},c.unmount=function(e){m&&m(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{H(e)}catch(e){t=e}}),n.__H=void 0,t&&c.__e(t,n.__v))};var U="function"==typeof requestAnimationFrame;function H(e){var t=o,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),o=t}function O(e){var t=o;e.__c=e.__(),o=t}function T(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function A(e,t){return"function"==typeof t?t(e):t}function D(e,t){for(var n in t)e[n]=t[n];return e}function F(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function I(e,t){var n=t(),r=y({t:{__:n,u:t}}),o=r[0].t,u=r[1];return E(function(){o.__=n,o.u=t,j(o)&&u({t:o})},[e,n,t]),b(function(){return j(o)&&u({t:o}),e(function(){j(o)&&u({t:o})})},[e]),n}function j(e){var t=e.u,n=e.__;try{var r=t();return(n!==r||0===n&&1/n!=1/r)&&(n==n||r==r)}catch(e){return!0}}function Y(e){e()}function W(e){return e}function L(){return[!1,Y]}var q=E;function V(e,t){this.props=e,this.context=t}function B(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:F(this.props,e)}function r(t){return this.shouldComponentUpdate=n,(0,i.az)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(V.prototype=new i.wA).isPureReactComponent=!0,V.prototype.shouldComponentUpdate=function(e,t){return F(this.props,e)||F(this.state,t)};var z=i.YM.__b;i.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),z&&z(e)};var G="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function K(e){function t(t){var n=D({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=G,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Z=function(e,t){return null==e?null:(0,i.bR)((0,i.bR)(e).map(t))},J={map:Z,forEach:Z,count:function(e){return e?(0,i.bR)(e).length:0},only:function(e){var t=(0,i.bR)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:i.bR},Q=i.YM.__e;i.YM.__e=function(e,t,n,r){if(e.then){for(var o,u=t;u=u.__;)if((o=u.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Q(e,t,n,r)};var X=i.YM.unmount;function ee(){this.__u=0,this.o=null,this.__b=null}function et(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function en(e){var t,n,r;function o(o){if(t||(t=e()).then(function(e){n=e.default||e},function(e){r=e}),r)throw r;if(!n)throw t;return(0,i.az)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function er(){this.i=null,this.l=null}i.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),X&&X(e)},(ee.prototype=new i.wA).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var o=et(r.__v),u=!1,l=function(){u||(u=!0,n.__R=null,o?o(i):i())};n.__R=l;var i=function(){if(!--r.__u){if(r.state.__a){var e,t=r.state.__a;r.__v.__k[0]=function e(t,n,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}(t,t.__c.__P,t.__c.__O)}for(r.setState({__a:r.__b=null});e=r.o.pop();)e.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},ee.prototype.componentWillUnmount=function(){this.o=[]},ee.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=D({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)})),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&(0,i.az)(i.HY,null,e.fallback);return o&&(o.__u&=-33),[(0,i.az)(i.HY,null,t.__a?null:e.children),o]};var eo=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function eu(e){return this.getChildContext=function(){return e.context},e.children}function el(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){(0,i.sY)(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;null!==r&&!r.__m&&null!==r.__;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}(0,i.sY)((0,i.az)(eu,{context:t.context},e.__v),t.v)}function ei(e,t){var n=(0,i.az)(el,{__v:e,h:t});return n.containerInfo=t,n}(er.prototype=new i.wA).__a=function(e){var t=this,n=et(t.__v),r=t.l.get(e);return r[0]++,function(o){var u=function(){t.props.revealOrder?(r.push(o),eo(t,e,r)):o()};n?n(u):u()}},er.prototype.render=function(e){this.i=null,this.l=new Map;var t=(0,i.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},er.prototype.componentDidUpdate=er.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){eo(e,n,t)})};var ea="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,e_=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ec=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ef=/[A-Z0-9]/g,es="undefined"!=typeof document;function ep(e,t,n){return null==t.__k&&(t.textContent=""),(0,i.sY)(e,t),"function"==typeof n&&n(),e?e.__c:null}function ed(e,t,n){return(0,i.ZB)(e,t),"function"==typeof n&&n(),e?e.__c:null}i.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(i.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var em=i.YM.event;function eh(){}function ev(){return this.cancelBubble}function ey(){return this.defaultPrevented}i.YM.event=function(e){return em&&(e=em(e)),e.persist=eh,e.isPropagationStopped=ev,e.isDefaultPrevented=ey,e.nativeEvent=e};var eg,eb={enumerable:!1,configurable:!0,get:function(){return this.class}},eE=i.YM.vnode;i.YM.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},o=-1===n.indexOf("-");for(var u in t){var l=t[u];if(!("value"===u&&"defaultValue"in t&&null==l||es&&"children"===u&&"noscript"===n||"class"===u||"className"===u)){var a,_=u.toLowerCase();"defaultValue"===u&&"value"in t&&null==t.value?u="value":"download"===u&&!0===l?l="":"translate"===_&&"no"===l?l=!1:"o"===_[0]&&"n"===_[1]?"ondoubleclick"===_?u="ondblclick":"onchange"!==_||"input"!==n&&"textarea"!==n||(a=t.type,("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(a))?"onfocus"===_?u="onfocusin":"onblur"===_?u="onfocusout":ec.test(u)&&(u=_):_=u="oninput":o&&e_.test(u)?u=u.replace(ef,"-$&").toLowerCase():null===l&&(l=void 0),"oninput"===_&&r[u=_]&&(u="oninputCapture"),r[u]=l}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,i.bR)(t.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=(0,i.bR)(t.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",eb)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=ea,eE&&eE(e)};var ew=i.YM.__r;i.YM.__r=function(e){ew&&ew(e),eg=e.__c};var ek=i.YM.diffed;i.YM.diffed=function(e){ek&&ek(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),eg=null};var eC={ReactCurrentDispatcher:{current:{readContext:function(e){return eg.__n[e.__c].props.value},useCallback:x,useContext:S,useDebugValue:N,useDeferredValue:W,useEffect:b,useId:R,useImperativeHandle:k,useInsertionEffect:q,useLayoutEffect:E,useMemo:C,useReducer:g,useRef:w,useState:y,useSyncExternalStore:I,useTransition:L}}},ex="18.3.1";function eS(e){return i.az.bind(null,e)}function eN(e){return!!e&&e.$$typeof===ea}function eM(e){return eN(e)&&e.type===i.HY}function eR(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function eP(e){return eN(e)?i.Tm.apply(null,arguments):e}function eU(e){return!!e.__k&&((0,i.sY)(null,e),!0)}function eH(e){return e&&(e.base||1===e.nodeType&&e)||null}var eO=function(e,t){return e(t)},eT=function(e,t){return e(t)},eA=i.HY,eD=eN,eF={useState:y,useId:R,useReducer:g,useEffect:b,useLayoutEffect:E,useInsertionEffect:q,useTransition:L,useDeferredValue:W,useSyncExternalStore:I,startTransition:Y,useRef:w,useImperativeHandle:k,useMemo:C,useCallback:x,useContext:S,useDebugValue:N,version:"18.3.1",Children:J,render:ep,hydrate:ed,unmountComponentAtNode:eU,createPortal:ei,createElement:i.az,createContext:i.kr,createFactory:eS,cloneElement:eP,createRef:i.Vf,Fragment:i.HY,isValidElement:eN,isElement:eD,isFragment:eM,isMemo:eR,findDOMNode:eH,Component:i.wA,PureComponent:V,memo:B,forwardRef:K,flushSync:eT,unstable_batchedUpdates:eO,StrictMode:eA,Suspense:ee,SuspenseList:er,lazy:en,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:eC}},1206:function(e,t,n){"use strict";n.d(t,{HY:()=>C,Tm:()=>j,Vf:()=>k,YM:()=>o,ZB:()=>I,az:()=>E,bR:()=>function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(y(t)?t.some(function(t){e(t,n)}):n.push(t)),n},kr:()=>Y,sY:()=>F,wA:()=>x});var r,o,u,l,i,a,_,c,f,s,p,d,m={},h=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function g(e,t){for(var n in t)e[n]=t[n];return e}function b(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function E(e,t,n){var o,u,l,i={};for(l in t)"key"==l?o=t[l]:"ref"==l?u=t[l]:i[l]=t[l];if(arguments.length>2&&(i.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(l in e.defaultProps)void 0===i[l]&&(i[l]=e.defaultProps[l]);return w(e,i,o,u,null)}function w(e,t,n,r,l){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==l?++u:l,__i:-1,__u:0};return null==l&&null!=o.vnode&&o.vnode(i),i}function k(){return{current:null}}function C(e){return e.children}function x(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?S(e):null}function N(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!M.__r++||i!=o.debounceRendering)&&((i=o.debounceRendering)||a)(M)}function M(){for(var e,t,n,r,u,i,a=1;l.length;)l.length>a&&l.sort(_),e=l.shift(),a=l.length,e.__d&&(t=void 0,r=(n=e.__v).__e,u=[],i=[],e.__P&&((t=g({},n)).__v=n.__v+1,o.vnode&&o.vnode(t),O(e.__P,t,n,e.__n,e.__P.namespaceURI,32&n.__u?[r]:null,u,null==r?S(n):r,!!(32&n.__u),i),t.__v=n.__v,t.__.__k[t.__i]=t,T(u,t,i),t.__e!=r&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(t)));M.__r=0}function R(e,t,n,r,u,l,i,a,_,c,f){var s,p,d,v,g,E,k=r&&r.__k||h,x=t.length;for(_=function(e,t,n,r,u){var l,i,a,_,c,f=n.length,s=f,p=0;for(e.__k=Array(u),l=0;l<u;l++)null!=(i=t[l])&&"boolean"!=typeof i&&"function"!=typeof i?(_=l+p,(i=e.__k[l]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?w(null,i,null,null,null):y(i)?w(C,{children:i},null,null,null):null==i.constructor&&i.__b>0?w(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,-1!=(c=i.__i=function(e,t,n,r){var o,u,l=e.key,i=e.type,a=t[n];if(null===a&&null==e.key||a&&l==a.key&&i==a.type&&0==(2&a.__u))return n;if(r>+(null!=a&&0==(2&a.__u)))for(o=n-1,u=n+1;o>=0||u<t.length;){if(o>=0){if((a=t[o])&&0==(2&a.__u)&&l==a.key&&i==a.type)return o;o--}if(u<t.length){if((a=t[u])&&0==(2&a.__u)&&l==a.key&&i==a.type)return u;u++}}return -1}(i,n,_,s))&&(s--,(a=n[c])&&(a.__u|=2)),null==a||null==a.__v?(-1==c&&(u>f?p--:u<f&&p++),"function"!=typeof i.type&&(i.__u|=4)):c!=_&&(c==_-1?p--:c==_+1?p++:(c>_?p--:p++,i.__u|=4))):e.__k[l]=null;if(s)for(l=0;l<f;l++)null!=(a=n[l])&&0==(2&a.__u)&&(a.__e==r&&(r=S(a)),function e(t,n,r){var u,l;if(o.unmount&&o.unmount(t),(u=t.ref)&&(u.current&&u.current!=t.__e||A(u,null,n)),null!=(u=t.__c)){if(u.componentWillUnmount)try{u.componentWillUnmount()}catch(e){o.__e(e,n)}u.base=u.__P=null}if(u=t.__k)for(l=0;l<u.length;l++)u[l]&&e(u[l],n,r||"function"!=typeof t.type);r||b(t.__e),t.__c=t.__=t.__e=void 0}(a,a));return r}(n,t,k,_,x),s=0;s<x;s++)null!=(d=n.__k[s])&&(p=-1==d.__i?m:k[d.__i]||m,d.__i=s,E=O(e,d,p,u,l,i,a,_,c,f),v=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&A(p.ref,null,d),f.push(d.ref,d.__c||v,d)),null==g&&null!=v&&(g=v),4&d.__u||p.__k===d.__k?_=function e(t,n,r){var o,u;if("function"==typeof t.type){for(o=t.__k,u=0;o&&u<o.length;u++)o[u]&&(o[u].__=t,n=e(o[u],n,r));return n}t.__e!=n&&(n&&t.type&&!r.contains(n)&&(n=S(t)),r.insertBefore(t.__e,n||null),n=t.__e);do n=n&&n.nextSibling;while(null!=n&&8==n.nodeType);return n}(d,_,e):"function"==typeof d.type&&void 0!==E?_=E:v&&(_=v.nextSibling),d.__u&=-7);return n.__e=g,_}function P(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||v.test(t)?n:n+"px"}function U(e,t,n,r,o){var u,l;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||P(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||P(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])u=t!=(t=t.replace(c,"$1")),t=(l=t.toLowerCase())in e||"onFocusOut"==t||"onFocusIn"==t?l.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+u]=n,n?r?n.u=r.u:(n.u=f,e.addEventListener(t,u?p:s,u)):e.removeEventListener(t,u?p:s,u);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function H(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=f++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function O(e,t,n,u,l,i,a,_,c,f){var s,p,d,h,v,E,w,k,N,M,P,H,O,T,A,F,I,j=t.type;if(null!=t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),i=[_=t.__e=n.__e]),(s=o.__b)&&s(t);e:if("function"==typeof j)try{if(k=t.props,N="prototype"in j&&j.prototype.render,M=(s=j.contextType)&&u[s.__c],P=s?M?M.props.value:s.__:u,n.__c?w=(p=t.__c=n.__c).__=p.__E:(N?t.__c=p=new j(k,P):(t.__c=p=new x(k,P),p.constructor=j,p.render=D),M&&M.sub(p),p.props=k,p.state||(p.state={}),p.context=P,p.__n=u,d=p.__d=!0,p.__h=[],p._sb=[]),N&&null==p.__s&&(p.__s=p.state),N&&null!=j.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=g({},p.__s)),g(p.__s,j.getDerivedStateFromProps(k,p.__s))),h=p.props,v=p.state,p.__v=t,d)N&&null==j.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),N&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(N&&null==j.getDerivedStateFromProps&&k!==h&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,P),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,P)||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=k,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),H=0;H<p._sb.length;H++)p.__h.push(p._sb[H]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,P),N&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(h,v,E)})}if(p.context=P,p.props=k,p.__P=e,p.__e=!1,O=o.__r,T=0,N){for(p.state=p.__s,p.__d=!1,O&&O(t),s=p.render(p.props,p.state,p.context),A=0;A<p._sb.length;A++)p.__h.push(p._sb[A]);p._sb=[]}else do p.__d=!1,O&&O(t),s=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++T<25);p.state=p.__s,null!=p.getChildContext&&(u=g(g({},u),p.getChildContext())),N&&!d&&null!=p.getSnapshotBeforeUpdate&&(E=p.getSnapshotBeforeUpdate(h,v)),F=s,null!=s&&s.type===C&&null==s.key&&(F=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:y(t)?t.map(e):g({},t)}(s.props.children)),_=R(e,y(F)?F:[F],t,n,u,l,i,a,_,c,f),p.base=t.__e,t.__u&=-161,p.__h.length&&a.push(p),w&&(p.__E=p.__=null)}catch(e){if(t.__v=null,c||null!=i)if(e.then){for(t.__u|=c?160:128;_&&8==_.nodeType&&_.nextSibling;)_=_.nextSibling;i[i.indexOf(_)]=null,t.__e=_}else for(I=i.length;I--;)b(i[I]);else t.__e=n.__e,t.__k=n.__k;o.__e(e,t,n)}else null==i&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):_=t.__e=function(e,t,n,u,l,i,a,_,c){var f,s,p,d,h,v,g,E=n.props,w=t.props,k=t.type;if("svg"==k?l="http://www.w3.org/2000/svg":"math"==k?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),null!=i){for(f=0;f<i.length;f++)if((h=i[f])&&"setAttribute"in h==!!k&&(k?h.localName==k:3==h.nodeType)){e=h,i[f]=null;break}}if(null==e){if(null==k)return document.createTextNode(w);e=document.createElementNS(l,k,w.is&&w),_&&(o.__m&&o.__m(t,i),_=!1),i=null}if(null==k)E===w||_&&e.data==w||(e.data=w);else{if(i=i&&r.call(e.childNodes),E=n.props||m,!_&&null!=i)for(E={},f=0;f<e.attributes.length;f++)E[(h=e.attributes[f]).name]=h.value;for(f in E)if(h=E[f],"children"==f);else if("dangerouslySetInnerHTML"==f)p=h;else if(!(f in w)){if("value"==f&&"defaultValue"in w||"checked"==f&&"defaultChecked"in w)continue;U(e,f,null,h,l)}for(f in w)h=w[f],"children"==f?d=h:"dangerouslySetInnerHTML"==f?s=h:"value"==f?v=h:"checked"==f?g=h:_&&"function"!=typeof h||E[f]===h||U(e,f,h,E[f],l);if(s)_||p&&(s.__html==p.__html||s.__html==e.innerHTML)||(e.innerHTML=s.__html),t.__k=[];else if(p&&(e.innerHTML=""),R("template"==t.type?e.content:e,y(d)?d:[d],t,n,u,"foreignObject"==k?"http://www.w3.org/1999/xhtml":l,i,a,i?i[0]:n.__k&&S(n,0),_,c),null!=i)for(f=i.length;f--;)b(i[f]);_||(f="value","progress"==k&&null==v?e.removeAttribute("value"):null==v||v===e[f]&&("progress"!=k||v)&&("option"!=k||v==E[f])||U(e,f,v,E[f],l),f="checked",null!=g&&g!=e[f]&&U(e,f,g,E[f],l))}return e}(n.__e,t,n,u,l,i,a,c,f);return(s=o.diffed)&&s(t),128&t.__u?void 0:_}function T(e,t,n){for(var r=0;r<n.length;r++)A(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){o.__e(e,t.__v)}})}function A(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function D(e,t,n){return this.constructor(e,n)}function F(e,t,n){var u,l,i,a;t==document&&(t=document.documentElement),o.__&&o.__(e,t),l=(u="function"==typeof n)?null:n&&n.__k||t.__k,i=[],a=[],O(t,e=(!u&&n||t).__k=E(C,null,[e]),l||m,m,t.namespaceURI,!u&&n?[n]:l?null:t.firstChild?r.call(t.childNodes):null,i,!u&&n?n:l?l.__e:t.firstChild,u,a),T(i,e,a)}function I(e,t){F(e,t,I)}function j(e,t,n){var o,u,l,i,a=g({},e.props);for(l in e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)"key"==l?o=t[l]:"ref"==l?u=t[l]:a[l]=void 0===t[l]&&null!=i?i[l]:t[l];return arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),w(e.type,a,o||e.key,u||e.ref,null)}function Y(e){function t(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,N(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+d++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}r=h.slice,o={__e:function(e,t,n,r){for(var o,u,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((u=o.constructor)&&null!=u.getDerivedStateFromError&&(o.setState(u.getDerivedStateFromError(e)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(t){e=t}throw e}},u=0,x.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=g({},this.state),"function"==typeof e&&(e=e(g({},n),this.props)),e&&g(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),N(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),N(this))},x.prototype.render=C,l=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_=function(e,t){return e.__v.__b-t.__v.__b},M.__r=0,c=/(PointerCapture)$|Capture$/i,f=0,s=H(!1),p=H(!0),d=0}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,n),u.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.rv=()=>"1.4.2",n.ruid="bundler=rspack@1.4.2",(()=>{"use strict";var e=n(9838),t=n(9286);let r=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var u=Array(o);++r<o;)u[r]=e[r+t];return u};var o="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,l=(o||u||Function("return this")()).Symbol,i=Object.prototype,a=i.hasOwnProperty,_=i.toString,c=l?l.toStringTag:void 0;let f=function(e){var t=a.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=_.call(e);return r&&(t?e[c]=n:delete e[c]),o};var s=Object.prototype.toString,p=l?l.toStringTag:void 0;let d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":p&&p in Object(e)?f(e):s.call(e)},m=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},h=function(e){if(!m(e))return!1;var t=d(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},v=function(e){var t;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=0x1fffffffffffff&&!h(e)};var y=/^(?:0|[1-9]\d*)$/;let g=function(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&y.test(e))&&e>-1&&e%1==0&&e<t},b=function(e,t,n){if(!m(n))return!1;var r,o=typeof t;return("number"==o?!!(v(n)&&g(t,n.length)):"string"==o&&t in n)&&((r=n[t])===e||r!=r&&e!=e)};var E=/\s/;let w=function(e){for(var t=e.length;t--&&E.test(e.charAt(t)););return t};var k=/^\s+/;let C=function(e){return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==d(e)};var x=0/0,S=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,M=/^0o[0-7]+$/i,R=parseInt;let P=function(e){if("number"==typeof e)return e;if(C(e))return x;if(m(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,w(t)+1).replace(k,""):t;var r=N.test(e);return r||M.test(e)?R(e.slice(2),r?2:8):S.test(e)?x:+e};var U=1/0;let H=function(e){var t,n=(t=e)?(t=P(t))===U||t===-U?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0,r=n%1;return n==n?r?n-r:n:0};var O=Math.ceil,T=Math.max;let A=function(e,t,n){t=(n?b(e,t,n):void 0===t)?1:T(H(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var u=0,l=0,i=Array(O(o/t));u<o;)i[l++]=r(e,u,u+=t);return i},D=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t)if(Array.isArray(t)){var u=t.length;for(n=0;n<u;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}(e))&&(r&&(r+=" "),r+=t);return r},F=(0,e.forwardRef)((t,n)=>{let{className:r,icon:o,...u}=t,l=D("oo-ui-iconElement-icon",o&&`oo-ui-icon-${o}`,r);return e.default.createElement("span",{ref:n,...u,className:l})});F.displayName="IconBase";let I=(0,e.forwardRef)((t,n)=>{let{className:r,indicator:o,...u}=t,l=D("oo-ui-indicatorElement-indicator",o&&`oo-ui-indicator-${o}`,r);return e.default.createElement("span",{...u,className:l,ref:n})});I.displayName="IndicatorBase";let j=(0,e.forwardRef)((t,n)=>{let{className:r,children:o,...u}=t,l=D("oo-ui-labelElement-label",r);return e.default.createElement("span",{...u,className:l,ref:n},o)});function Y(e){let{disabled:t,label:n,icon:r,indicator:o}=e;for(var u=arguments.length,l=Array(u>1?u-1:0),i=1;i<u;i++)l[i-1]=arguments[i];return D("oo-ui-widget",t?"oo-ui-widget-disabled":"oo-ui-widget-enabled",r&&"oo-ui-iconElement",o&&"oo-ui-indicatorElement",null!=n&&!1!==n&&"oo-ui-labelElement",l.map(e=>`oo-ui-${e}Widget`))}j.displayName="LabelBase";let W=(0,e.forwardRef)((t,n)=>{let{active:r,accessKey:o,children:u,className:l,disabled:i,framed:a=!0,flags:_=[],href:c,icon:f,indicator:s,rel:p="nofollow",title:d,tabIndex:m,onClick:h,onKeyDown:v,onKeyUp:y,...g}=t,[b,E]=(0,e.useState)(!1),w=_.includes("primary")||i||r,k=!_.includes("primary")&&_.includes("destructive")&&!i&&!r,C=D(l,Y({disabled:i,icon:f,label:u,indicator:s},"button"),"oo-ui-buttonElement",a?"oo-ui-buttonElement-framed":"oo-ui-buttonElement-frameless",("string"==typeof _?[_]:_).map(e=>`oo-ui-flaggedElement-${e}`),r&&"oo-ui-buttonElement-active",b&&!i&&"oo-ui-buttonElement-pressed"),x=D(w&&"oo-ui-image-invert",k&&"oo-ui-image-destructive"),S=e=>{!i&&h&&h(e)},N=()=>{i||E(!0)},M=()=>{i||E(!1)};return e.default.createElement("span",{...g,ref:n,className:C,onClick:S,onMouseUp:M,onMouseDown:N,onMouseLeave:M,onKeyDown:e=>{v&&v(e),i||"Enter"!==e.key||N(e)},onKeyUp:e=>{y&&y(e),i||"Enter"!==e.key||(M(e),S(e))},"aria-disabled":!!i,tabIndex:i?-1:m},e.default.createElement("a",{className:"oo-ui-buttonElement-button",role:"button",tabIndex:i?-1:m??0,href:c,rel:p,title:d,accessKey:o},e.default.createElement(F,{icon:f,className:x}),e.default.createElement(j,null,u),e.default.createElement(I,{indicator:s,className:x})))});W.displayName="Button";let L=(0,e.forwardRef)((t,n)=>{let{name:r,accessKey:o,className:u,disabled:l,onChange:i,icon:a,indicator:_,label:c,labelPosition:f="after",min:s,max:p,placeholder:d,precision:m,readOnly:h,required:v,showButtons:y,step:g=1,value:b,...E}=t,[w,k]=(0,e.useState)(b),C=D(u,Y({disabled:l,icon:a,indicator:_,label:c},"input","textInput","numberInput"),null!=c&&!1!==c&&`oo-ui-textInputWidget-labelPosition-${f}`,"oo-ui-textInputWidget-type-number",y&&"oo-ui-numberInputWidget-buttoned");return e.default.createElement("div",{...E,className:C,"aria-disabled":!!l,ref:n},e.default.createElement(F,{icon:a}),e.default.createElement(I,{indicator:_}),e.default.createElement("div",{className:"oo-ui-numberInputWidget-field"},y&&e.default.createElement(W,{className:"oo-ui-numberInputWidget-minusButton",icon:"subtract",onClick:()=>{let e=(w||0)-g;k(e),"function"==typeof i&&i({value:e,oldValue:w})}}),e.default.createElement("input",{accessKey:o,type:"number",name:r,tabIndex:l?-1:0,"aria-disabled":!!l,className:"oo-ui-inputWidget-input",disabled:l,readOnly:h,required:v,"aria-required":v,value:b??w,placeholder:d,min:s,max:p,step:g,onChange:e=>{let t=+e.target.value;k(t),"function"==typeof i&&i({value:"number"==typeof s&&s>t?s:t,oldValue:w,event:e})},onBlur:()=>{"number"==typeof m&&k(Math.round((w||0)*10**m)/10**m)}}),y&&e.default.createElement(W,{className:"oo-ui-numberInputWidget-plusButton",icon:"add",onClick:()=>{let e=(w||0)+g;k(e),"function"==typeof i&&i({value:e,oldValue:w})}})),null!=c&&!1!==c&&e.default.createElement(j,null,c))});L.displayName="NumberInput";let q=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("function"==typeof navigator.clipboard?.writeText)await navigator.clipboard.writeText(e);else{let t=document.createElement("input");t.style.position="fixed",t.style.top="-10000px",t.style.zIndex="-999",t.style.opacity="0",document.body.appendChild(t),t.value=e,t.focus(),t.select(),document.execCommand("copy");let n=document.createElement("div");n.tabIndex=-1,document.body.appendChild(n),n.focus(),n.remove(),t.remove()}},V=e=>new Promise(t=>setTimeout(t,e)),B=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["page","subcat","file"],n=new mw.Api,r=[];if(mw.config.get("wgUserGroups").some(e=>["bot","flood","patroller","sysop"].includes(e))){let o="";for(;void 0!==o;){let u=await n.post({action:"query",format:"json",utf8:!0,list:"categorymembers",cmlimit:"max",cmtitle:e,cmprop:"title",cmtype:t,cmcontinue:o});u.query.categorymembers[0]&&r.push(...u.query.categorymembers.map(e=>{let{title:t}=e;return t})),o=u.continue?.cmcontinue}}else{let n=async e=>{let o=$(await $.ajax(e)),u=t.map(e=>{switch(e){case"page":return"#mw-pages li a";case"subcat":return"#mw-subcategories li a";case"file":return"#mw-category-media li a.galleryfilename"}}).join(","),l=o.find(u).map((e,t)=>t.classList.contains("CategoryTreeLabel")?`Category:${$(t).text()}`:t.classList.contains("galleryfilename")?`File:${$(t).text()}`:$(t).text()).get();if(r.push(...l),t.includes("page")){let e=o.find('a[href*="&pagefrom="]');e.length&&await n(e.eq(0).attr("href"))}if(t.includes("subcat")){let e=o.find('a[href*="&subcatfrom="]');e.length&&await n(e.eq(0).attr("href"))}if(t.includes("file")){let e=o.find('a[href*="&filefrom="]');e.length&&await n(e.eq(0).attr("href"))}};await n(`/${e}?useskin=vector&safemode=1`)}return r},z=t=>{let{username:n}=t,[r,o]=(0,e.useState)("ready"),[u,l]=(0,e.useState)("ready"),[i,a]=(0,e.useState)(""),[_,c]=(0,e.useState)([]),[f,s]=(0,e.useState)([]),[p,d]=(0,e.useState)("复制文件列表"),[m,h]=(0,e.useState)(6),v=(0,e.useRef)([]),y=(0,e.useMemo)(()=>new mw.Api,[]),g=(0,e.useMemo)(()=>mw.config.get("wgUserGroups").some(e=>["sysop","patroller"].includes(e)),[]),b=(0,e.useCallback)(async()=>{let e=[],t="|";for(;void 0!==t;){let r=await y.post({format:"json",utf8:!0,action:"query",list:"usercontribs",ucprop:["title","timestamp"],ucnamespace:6,ucuser:n,ucshow:"new",uclimit:"max",uccontinue:t});t=r.continue?.uccontinue,e.push(...r.query.usercontribs.map(e=>{let{title:t,timestamp:n}=e;return{title:t,timestamp:n}}))}return e},[]),E=(0,e.useCallback)(async e=>{let t=mw.config.get("wgUserGroups").some(e=>["bot","flood","sysop"].includes(e))?500:50,n=A(e,t),r=[];for(let t of n){let n="||";for(;n;){let o=await y.post({format:"json",utf8:!0,action:"query",prop:"globalusage",titles:t.map(e=>{let{title:t}=e;return t}),gucontinue:n,gulimit:"max"});for(let{pageid:t,title:u,globalusage:l}of(n=o.continue?.gucontinue,Object.values(o.query.pages))){let n=r.find(e=>{let{id:n}=e;return n===t});n?n.usage.push(...l):r.push({id:t,fileName:u,uploadTime:moment(e.find(e=>e.title===u).timestamp).format("YYYY年M月D日 HH:mm:ss"),usage:l||[],selected:!0,deleted:!1})}}}for(let e of A(r,t)){let t="";for(;void 0!==t;){let n=await y.post({format:"json",utf8:!0,action:"query",prop:"fileusage",titles:e.map(e=>{let{fileName:t}=e;return t}),...t?{fucontinue:t}:{},fulimit:"max"});for(let{pageid:e,fileusage:o}of(t=n.continue?.fucontinue,Object.values(n.query.pages)))o?.length&&(r.find(t=>{let{id:n}=t;return n===e}).cmused=!0)}}return r.filter(e=>{let{fileName:t,usage:n,cmused:r}=e;return!r&&n.every(e=>{let{title:t}=e;return t.match(/^User:/)})&&!v.current.includes(t)})},[]),w=(0,e.useCallback)(async e=>{e.preventDefault();try{o("querying"),v.current=await B("Category:非链入使用的文件");let e=await b(),t=await E(e);c(t),o("acquired")}catch(e){o("failed"),a(e)}},[]),k=(0,e.useCallback)((e,t)=>{c(n=>n.map(n=>n.fileName===t?{...n,selected:e.target.checked}:n))},[]),C=(0,e.useCallback)(async e=>{let t=1e3*m;e.preventDefault();let n=mw.config.get("wgUserName"),r=_.filter(e=>{let{selected:t}=e;return t});if(0===r.length)return;l("deleting");let o=0;for(let{fileName:e,usage:{length:u}}of r){let l=u?"仅用于用户、用户讨论名字空间内的用途不当文件":"无使用或不再使用的文件";try{await y.postWithToken("csrf",{action:"edit",assertUser:n,title:e,text:`<noinclude>{{\u{5373}\u{5C06}\u{5220}\u{9664}|1=${l}|user=${n}}}</noinclude>`,summary:`[[User:BearBin/js#FileInspector|FileInspector]]: \u{6302}\u{5220}\u{FF1A}${l}`,watchlist:"nochange",tags:"Automation tool",bot:!0}),c(t=>t.map(t=>t.fileName===e?{...t,deleted:!0}:t)),s(t=>[...t,`${moment().format("HH:mm:ss")} - \u{3010}${e}\u{3011}\u{5DF2}\u{6302}\u{5220}\u{3002}`])}catch(t){s(n=>[...n,`${moment().format("HH:mm:ss")} - \u{3010}${e}\u{3011}\u{6302}\u{5220}\u{5931}\u{8D25}\u{FF1A}${t}`])}++o<r.length&&await V(t)}l("done")},[_]),x=(0,e.useCallback)(e=>{e.preventDefault(),q(_.map(e=>{let{fileName:t}=e;return`* ${t}`}).join("\n")).then(()=>{d("复制成功")}).catch(e=>{d(`\u{590D}\u{5236}\u{5931}\u{8D25}\u{FF1A}${e}`)})},[_]);return(0,e.useEffect)(()=>{mw.loader.using(["mediawiki.api","oojs-ui","moment"])},[]),e.default.createElement("form",{id:"file-inspector"},e.default.createElement("fieldset",null,e.default.createElement("legend",null,"用户文件检查"),"ready"===r&&e.default.createElement(e.default.Fragment,null,"查询该用户所有未使用的文件信息",e.default.createElement("br",null),e.default.createElement(W,{onClick:w,flags:"progressive"},"查询")),"querying"===r&&"正在查询……","failed"===r&&e.default.createElement(e.default.Fragment,null,"查询失败：",i,e.default.createElement("br",null),e.default.createElement(W,{onClick:w},"重试")),"acquired"===r&&e.default.createElement(e.default.Fragment,null,"获取成功！该用户上传的无使用或仅用于用户页的文件如下：",e.default.createElement("dl",null,_.map(t=>{let{fileName:n,usage:r,selected:o,deleted:l,uploadTime:i}=t;return e.default.createElement(e.Fragment,{key:n},e.default.createElement("dt",null,g&&e.default.createElement("input",{type:"checkbox",name:n,defaultChecked:!0,checked:o&&!l,disabled:l||"deleting"===u,onChange:e=>k(e,n)}),e.default.createElement("a",{href:`/${n}`,style:{textDecoration:l?"line-through":""},target:"_blank",rel:"noreferrer"},n),e.default.createElement("label",{style:{fontWeight:"normal"},htmlFor:n},"（上传于 ",i,"）")),r.length?r.map(t=>{let{url:n,title:r}=t;return e.default.createElement("dd",{key:r},e.default.createElement("a",{href:n,target:"_blank",rel:"noreferrer"},r))}):e.default.createElement("dd",null,"无使用"))})),e.default.createElement("hr",null),e.default.createElement("div",{className:"file-inspector-panel"},g&&e.default.createElement(W,{onClick:C,disabled:"deleting"===u,flags:"progressive"},"挂删选中的文件"),"挂删间隔（s）：",e.default.createElement(L,{min:0,value:m,onChange:e=>{let{value:t}=e;h(t)},style:{width:"5em"}}),e.default.createElement("br",null),e.default.createElement(W,{onClick:x,style:{marginTop:"0.4em"}},p)),"ready"!==u&&e.default.createElement("ul",{className:"file-inspector-log"},f.map(t=>e.default.createElement("li",{key:t},t))))))};$(()=>{let n=mw.config.get("wgRelevantUserName");if(!n||!["Listfiles","Contributions"].includes(mw.config.get("wgCanonicalSpecialPageName")))return;let r=document.createDocumentFragment();(0,t.createRoot)(r).render(e.default.createElement(e.StrictMode,null,e.default.createElement(z,{username:n}))),document.querySelector("#mw-content-text>.mw-contributions-form, #mw-listfiles-form").after(r)})})()})();
//# sourceMappingURL=FileInspector.min.js.map