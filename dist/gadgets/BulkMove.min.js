(()=>{"use strict";var e={7018:function(e,t,n){n.d(t,{Z:()=>l});var o=n(9415),i=n.n(o),r=n(3018),a=n.n(r)()(i());a.push([e.id,".bearbintools-loger .loger-clear{margin-left:.3em;font-size:.9em;font-weight:400}.bearbintools-loger .loger-body{background:#ffffffb3;border:1px solid #ccc;padding:.3em;display:flow-root}.bearbintools-loger .loger-filter{float:right;padding:.4em}.bearbintools-loger .loger-filter>div{cursor:pointer;border-radius:.3em;margin-bottom:.2em;padding-right:.2em}.bearbintools-loger .loger-filter>div.loger-filter-selected{background-color:#7f7f7f12}.bearbintools-loger .loger-filter .loger-filter-icon{text-align:center;width:1.2em;height:1em;line-height:1em;display:inline-block}.bearbintools-loger .loger-lines{max-height:20em;font-family:monospace;list-style:inside;overflow-y:auto}.bearbintools-loger .loger-lines>li a{color:inherit;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}","",{version:3,sources:["webpack://./src/components/Loger/index.less"],names:[],mappings:"AADA,iCAAA,gBAAA,CAAA,cAAA,CAAA,eAAA,CAKA,gCAAA,oBAAA,CAAA,qBAAA,CAAA,YAAA,CAAA,iBAAA,CAMA,kCAAA,WAAA,CAAA,YAAA,CAIA,sCAAA,cAAA,CAAA,kBAAA,CAAA,kBAAA,CAAA,kBAAA,CAMA,4DAAA,0BAAA,CAGA,qDAAA,iBAAA,CAAA,WAAA,CAAA,UAAA,CAAA,eAAA,CAAA,oBAAA,CAOA,iCAAA,eAAA,CAAA,qBAAA,CAAA,iBAAA,CAAA,eAAA,CAMA,sCAAA,aAAA,CAAA,wCAAA,CAAA,gCAAA",sourcesContent:[".bearbintools-loger .loger-clear {\n  margin-left: 0.3em;\n  font-size: 0.9em;\n  font-weight: normal;\n}\n.bearbintools-loger .loger-body {\n  display: flow-root;\n  padding: 0.3em;\n  border: 1px solid #ccc;\n  background: rgba(255, 255, 255, 0.7);\n}\n.bearbintools-loger .loger-filter {\n  float: right;\n  padding: 0.4em;\n}\n.bearbintools-loger .loger-filter > div {\n  border-radius: 0.3em;\n  margin-bottom: 0.2em;\n  padding-right: 0.2em;\n  cursor: pointer;\n}\n.bearbintools-loger .loger-filter > div.loger-filter-selected {\n  background-color: rgba(127, 127, 127, 0.07);\n}\n.bearbintools-loger .loger-filter .loger-filter-icon {\n  display: inline-block;\n  width: 1.2em;\n  height: 1em;\n  line-height: 1em;\n  text-align: center;\n}\n.bearbintools-loger .loger-lines {\n  max-height: 20em;\n  overflow-y: auto;\n  list-style: inside;\n  font-family: monospace;\n}\n.bearbintools-loger .loger-lines > li a {\n  color: inherit;\n  text-decoration: underline dotted;\n}\n"],sourceRoot:""}]);let l=a},4809:function(e,t,n){n.d(t,{Z:()=>l});var o=n(9415),i=n.n(o),r=n(3018),a=n.n(r)()(i());a.push([e.id,".rootpage-Special_BulkMove #firstHeading{flex-wrap:wrap;justify-content:space-between;align-items:flex-end;display:flex}.rootpage-Special_BulkMove #firstHeading>div{font-size:.6em}.rootpage-Special_BulkMove #bodyContent{padding-right:0!important}.rootpage-Special_BulkMove #bodyContent #mw-content-text h3{margin-bottom:0}.rootpage-Special_BulkMove #bodyContent #mw-content-text ul.bm-notelist{margin:.4em 0 0 1.6em}#bm-page-list-table{border-collapse:collapse;width:100%;max-width:900px}#bm-page-list-table tbody{counter-reset:row-counter}#bm-page-list-table tbody tr{counter-increment:row-counter}#bm-page-list-table tbody tr:before{content:counter(row-counter);text-align:center;vertical-align:middle;width:0;padding-right:.3em;display:table-cell}#bm-page-list-table tbody tr td{background-color:#ffffffb3;border:1px solid #aaa;padding:0}#bm-page-list-table tbody tr th:last-child,#bm-page-list-table tbody tr td:last-child{background-color:#0000;background-position:50%;border:none;width:20px}#bm-page-list-table input[type=text]{box-sizing:border-box;background:0 0;border:none;border-radius:0;width:100%;height:100%;padding:.4em}#bm-page-list-table input[type=text]:focus{background-color:#7f7f7f05;outline:none}#bm-page-list-table #bm-add-row,#bm-page-list-table .remove-row{cursor:pointer;border-radius:50%;width:20px;height:20px;transition:background-color .2s}#bm-page-list-table #bm-add-row:hover,#bm-page-list-table .remove-row:hover{background-color:#7f7f7f33}#bm-option{margin-top:.8em}#bm-option>div{margin-top:.3em}#bm-submit-panel{gap:.1rem;margin-top:.8em;display:flex}#bm-submit-panel #bm-interval{flex:0 0 5.5em}#bm-submit-panel #bm-summary{max-width:initial}","",{version:3,sources:["webpack://./src/gadgets/BulkMove/index.less"],names:[],mappings:"AADA,yCAAA,cAAA,CAAA,6BAAA,CAAA,oBAAA,CAAA,YAAA,CAMA,6CAAA,cAAA,CAGA,wCAAA,yBAAA,CAGA,4DAAA,eAAA,CAGA,wEAAA,qBAAA,CAGA,oBAAA,wBAAA,CAAA,UAAA,CAAA,eAAA,CAKA,0BAAA,yBAAA,CAGA,6BAAA,6BAAA,CAGA,oCAAA,4BAAA,CAAA,iBAAA,CAAA,qBAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,kBAAA,CAQA,gCAAA,0BAAA,CAAA,qBAAA,CAAA,SAAA,CAKA,sFAAA,sBAAA,CAAA,uBAAA,CAAA,WAAA,CAAA,UAAA,CAOA,qCAAA,qBAAA,CAAA,cAAA,CAAA,WAAA,CAAA,eAAA,CAAA,UAAA,CAAA,WAAA,CAAA,YAAA,CASA,2CAAA,0BAAA,CAAA,YAAA,CAIA,gEAAA,cAAA,CAAA,iBAAA,CAAA,UAAA,CAAA,WAAA,CAAA,+BAAA,CAQA,4EAAA,0BAAA,CAIA,WAAA,eAAA,CAGA,eAAA,eAAA,CAGA,iBAAA,SAAA,CAAA,eAAA,CAAA,YAAA,CAKA,8BAAA,cAAA,CAGA,6BAAA,iBAAA",sourcesContent:['.rootpage-Special_BulkMove #firstHeading {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: flex-end;\n}\n.rootpage-Special_BulkMove #firstHeading > div {\n  font-size: 0.6em;\n}\n.rootpage-Special_BulkMove #bodyContent {\n  padding-right: 0 !important;\n}\n.rootpage-Special_BulkMove #bodyContent #mw-content-text h3 {\n  margin-bottom: 0;\n}\n.rootpage-Special_BulkMove #bodyContent #mw-content-text ul.bm-notelist {\n  margin: 0.4em 0 0 1.6em;\n}\n#bm-page-list-table {\n  border-collapse: collapse;\n  width: 100%;\n  max-width: 900px;\n}\n#bm-page-list-table tbody {\n  counter-reset: row-counter;\n}\n#bm-page-list-table tbody tr {\n  counter-increment: row-counter;\n}\n#bm-page-list-table tbody tr::before {\n  content: counter(row-counter);\n  display: table-cell;\n  width: 0;\n  padding-right: 0.3em;\n  text-align: center;\n  vertical-align: middle;\n}\n#bm-page-list-table tbody tr td {\n  padding: 0;\n  border: 1px solid #aaa;\n  background-color: rgba(255, 255, 255, 0.7);\n}\n#bm-page-list-table tbody tr th:last-child,\n#bm-page-list-table tbody tr td:last-child {\n  border: none;\n  width: 20px;\n  background-position: center;\n  background-color: transparent;\n}\n#bm-page-list-table input[type="text"] {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  padding: 0.4em;\n  border: none;\n  border-radius: 0;\n  background: transparent;\n}\n#bm-page-list-table input[type="text"]:focus {\n  outline: none;\n  background-color: rgba(127, 127, 127, 0.02);\n}\n#bm-page-list-table #bm-add-row,\n#bm-page-list-table .remove-row {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  border-radius: 50%;\n  transition: 0.2s ease background-color;\n}\n#bm-page-list-table #bm-add-row:hover,\n#bm-page-list-table .remove-row:hover {\n  background-color: rgba(127, 127, 127, 0.2);\n}\n#bm-option {\n  margin-top: 0.8em;\n}\n#bm-option > div {\n  margin-top: 0.3em;\n}\n#bm-submit-panel {\n  display: flex;\n  gap: 0.1rem;\n  margin-top: 0.8em;\n}\n#bm-submit-panel #bm-interval {\n  flex: 0 0 5.5em;\n}\n#bm-submit-panel #bm-summary {\n  max-width: initial;\n}\n'],sourceRoot:""}]);let l=a},3018:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var A=this[l][0];null!=A&&(a[A]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);o&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]&&(d[1]="@media ".concat(d[2]," {").concat(d[1],"}")),d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},9415:function(e){e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n))));return[t].concat(["/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o)," */")]).join("\n")}return[t].join("\n")}},85:function(e){var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},r=[],a=0;a<e.length;a++){var l=e[a],A=o.base?l[0]+o.base:l[0],s=i[A]||0,d="".concat(A," ").concat(s);i[A]=s+1;var c=n(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==c)t[c].references++,t[c].updater(u);else{var p=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){t?(t.css!==e.css||t.media!==e.media||t.sourceMap!==e.sourceMap||t.supports!==e.supports||t.layer!==e.layer)&&n.update(e=t):n.remove()}}(u,o);o.byIndex=a,t.splice(a,0,{identifier:d,updater:p,references:1})}r.push(d)}return r}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var l=n(r[a]);t[l].references--}for(var A=o(e,i),s=0;s<r.length;s++){var d=n(r[s]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=A}}},9931:function(e){var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},6300:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},7342:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},1417:function(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){var o,i,r;o="",n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {")),(i=void 0!==n.layer)&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}"),(r=n.sourceMap)&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)},remove:function(){!function(e){if(null!==e.parentNode)e.parentNode.removeChild(e)}(t)}}}},1514:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,n.rv=()=>"1.4.2",n.ruid="bundler=rspack@1.4.2",(()=>{let e=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children[0]};var t=n(85),o=n.n(t),i=n(1417),r=n.n(i),a=n(9931),l=n.n(a),A=n(7342),s=n.n(A),d=n(6300),c=n.n(d),u=n(1514),p=n.n(u),g=n(7018),m={};m.styleTagTransform=p(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=c(),o()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;class b{_logTypes={success:{icon:"✓",color:"#333",text:"完成"},warn:{icon:"!",color:"#f28500",text:"警告"},error:{icon:"✕",color:"#eb3941",text:"出错"}};element;headline;body=e('<div class="loger-body"></div>');logerLines=e('<ul class="loger-lines"></ul>');logDetails=[];filterButtons={};constructor(t=[],n="",o="h3"){for(let e in t.length>0&&(this._logTypes=t.reduce((e,t)=>{let{name:n,icon:o,color:i,text:r}=t;return e[n]={icon:o,color:i,text:r},e},{})),this._logTypes)this._logTypes[e].show=!0;this.headline=e(`<${o} class="loger-headline"></${o}>`);let i=e('<a class="loger-clear">[清空]</a>');i.addEventListener("click",this.clear.bind(this));let r=e('<nav class="loger-filter"></nav>');for(let[t,{icon:n,color:o,text:i}]of Object.entries(this._logTypes)){let a=e(`<div class="loger-filter-selected loger-${t}" style="color:${o}"></div>`),l=e('<span class="loger-filter-icon"></span>');l.append(n);let A=e('<span class="loger-filter-count">0</span>');a.append(l,A,` ${i}`),a.addEventListener("click",()=>{this._logTypes[t].show?(a.classList.remove("loger-filter-selected"),this.logerLines.classList.add(`loger-${t}-hidden`),this.logDetails.filter(e=>e.type===t).forEach(e=>{e.element.style.display="none"}),this._logTypes[t].show=!1):(a.classList.add("loger-filter-selected"),this.logerLines.classList.remove(`loger-${t}-hidden`),this.logDetails.filter(e=>e.type===t).forEach(e=>{e.element.style.display=""}),this._logTypes[t].show=!0)}),this.filterButtons[t]={button:a,countElement:A},r.appendChild(a)}this.element=e(`<div class="bearbintools-loger" id="${n||""}"></div>`),this.headline.append("日志",i),this.body.append(r,this.logerLines),this.element.append(this.headline,this.body)}record(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date().toLocaleTimeString(),o=document.createElement("li");return o.classList.add("loger-record",`loger-${t}`),o.innerHTML=`${n} - ${e}`,o.style.color=this._logTypes[t]?.color||"#222",this._logTypes[t]?.show===!1&&(o.style.display="none"),this.logerLines.appendChild(o),this.logerLines.scrollTop=this.logerLines.scrollHeight,this.logDetails.push({element:o,type:t}),this.filterButtons[t]&&(this.filterButtons[t].countElement.innerText=String(+this.filterButtons[t].countElement.innerText+1)),o}clear(){for(let e in this.logDetails.length=0,this.logerLines.innerHTML="",this.filterButtons)this.filterButtons[e].countElement.innerText="0"}}let f=e=>new Promise(t=>setTimeout(t,e));var h=n(4809),v={};v.styleTagTransform=p(),v.setAttributes=s(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=c(),o()(h.Z,v),h.Z&&h.Z.locals&&h.Z.locals,$(()=>(async()=>{if("Special:BulkMove"!==mw.config.get("wgPageName")){await mw.loader.using(["mediawiki.util"]),mw.util.addPortletLink("p-tb","/Special:BulkMove","批量移动","t-bulkmove");return}await mw.loader.using(["mediawiki.api","oojs-ui","mediawiki.user"]);let e=new mw.Api,t=new b,n=0;mw.config.set("wgCanonicalSpecialPageName","BulkMove"),document.title="批量移动 - 萌娘百科_万物皆可萌的百科全书",$(".mw-invalidspecialpage").removeClass("mw-invalidspecialpage"),$("#firstHeading").html("批量移动页面<div>By BearBin</div>"),$("#contentSub").remove();let o=$('<table id="bm-page-list-table">'),i=$("<tbody>"),r=$('<th><div class="oo-ui-icon-add" id="bm-add-row" title="新增一行"></div></th>'),a=new OO.ui.CheckboxInputWidget({id:"bm-movetalk-box",selected:!0}),l=new OO.ui.FieldLayout(a,{label:"移动关联的讨论页",align:"inline"}),A=new OO.ui.CheckboxInputWidget({id:"bm-redirect-box"}),s=new OO.ui.FieldLayout(A,{label:"保留重定向",align:"inline"}),d=new OO.ui.CheckboxInputWidget({id:"bm-watchlist-box"}),c=new OO.ui.FieldLayout(d,{label:"监视源页面和目标页面",align:"inline"}),u=new OO.ui.CheckboxInputWidget({id:"bm-watchlist-box"}),p=new OO.ui.FieldLayout(u,{label:"移动子页面",align:"inline"}),g=new OO.ui.ButtonWidget({label:"提交",flags:["primary","progressive"],icon:"check"}),m=new OO.ui.TextInputWidget({type:"number",placeholder:"操作间隔",id:"bm-interval"}),h=new OO.ui.TextInputWidget({placeholder:"附加摘要",id:"bm-reason",name:"wpReason"}),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=0;t<e;t++)n++,i.append($("<tr>").append($(`<td><input type="text" data-row-no="${n}" data-col-no="1" name="${n}-1"></td>`)).append($(`<td><input type="text" data-row-no="${n}" data-col-no="2" name="${n}-2"></td>`)).append($('<td><div class="remove-row oo-ui-icon-subtract" title="删除此行"></div></td>')))};$("#mw-content-text").empty().append("<h3>页面列表</h3>",o.append($("<thead>").append($("<tr>").append("<th></th>","<th>源页面</th>","<th>目标页面</th>",r)),i),$('<ul class="bm-notelist">').append("<li>请输入要移动的页面列表及目标页面，一一对应。</li>","<li>点击右上角“+”添加更多行。</li>","<li>可直接从Excel复制（部分浏览器可能不支持）。粘贴时浏览器可能会需要获取权限，请注意是否有提醒。</li>"),$('<div id="bm-option">').append(l.$element,s.$element,c.$element,p.$element),$('<div id="bm-submit-panel">').append(g.$element,m.$element,h.$element),$('<ul class="bm-notelist">').append("<li>操作间隔单位为秒（s），不填默认为0。不包含本身移动页面所用的服务器响应时间。</li>",'<li>请注意<a target="_blank" href="/萌娘百科:机器用户">机器用户方针</a>所规定的速率和<a target="_blank" href="/api.php?action=query&meta=userinfo&uiprop=ratelimits">ratelimit限制</a>并自行设置间隔，或申请机器用户权限。</li>'),t.element),v(10),mw.user.getRights().done(e=>{e.includes("suppressredirect")||A.setSelected(!0).setDisabled(!0)}),r.on("click",async()=>{let e=new OO.ui.TextInputWidget({type:"number",value:1});await OO.ui.confirm(e.$element,{title:"增加行"})&&v(+e.getValue())}),o.on("click",".remove-row",e=>{let{target:t}=e;n--,$(t).closest("tr").remove(),i.children("tr").each((e,t)=>{$(t).find("input").attr("data-row-no",e+1)})}),o.on("paste",'input[type="text"]',e=>{navigator.clipboard.readText().then(t=>{if(t.indexOf("	")>-1||t.indexOf("\n")>-1&&t.indexOf("\n")!==t.length-1){e.preventDefault();let n=t.split("\n"),i=o.find("input[data-row-no][data-col-no]");for(let t=0;t<n.length;t++){let o=n[t].split("	");for(let n=0;n<2;n++)if(o[n]?.trim().length>0){let r=t+Number($(e.target).attr("data-row-no")),a=n+Number($(e.target).attr("data-col-no"));i.filter(`[data-row-no="${r}"][data-col-no="${a}"]`).val(o[n])}}}})}),g.on("click",async()=>{let n=$("<p>请确认您的移动是否有误。若因输入不当而产生错误，请自行<ruby><rb>承担后果</rb><rp>(</rp><rt>料理后事</rt><rp>)</rp></ruby>。</p>");if(await OO.ui.confirm(n,{title:"提醒",size:"small"})){g.setDisabled(!0),window.onbeforeunload=()=>!0,$("#mw-content-text input, #mw-content-text textarea").prop("disabled",!0);let n=a.isSelected(),o=!A.isSelected(),r=u.isSelected(),l=d.isSelected()?"watch":"unwatch",s=h.getValue().length>0?`[[User:BearBin/js#\u{6279}\u{91CF}\u{79FB}\u{52A8}\u{9875}\u{9762}|BulkMove]]\u{FF1A}${h.getValue()}`:"[[User:BearBin/js#批量移动页面|BulkMove]]",c=1e3*Number(m.getValue()),p=mw.config.get("wgUserGroups").includes("bot")?"Bot":"Automation tool",b=[];for(let{from:a,to:A}of(i.children("tr").each((e,t)=>{let n=$(t).find("input")[0].value,o=$(t).find("input")[1].value;n?.length>0&&o?.length>0&&b.push({from:n,to:o})}),b.length>0?t.record(`\u{5171}${b.length}\u{4E2A}\u{9875}\u{9762}\u{FF0C}\u{5373}\u{5C06}\u{5F00}\u{59CB}\u{79FB}\u{52A8}\u{3002}`):t.record("没有要移动的页面。"),b))try{let i=await e.postWithToken("csrf",{format:"json",action:"move",from:a,to:A,movetalk:n,noredirect:o,watchlist:l,movesubpages:r,reason:s,tags:p,bot:!0});"move"in i&&(t.record(`\u{79FB}\u{52A8}\u{3010}<a href="/${a}${o?"":"?redirect=no"}" class="${o?"":"mw-redirect"}">${a}</a>\u{3011}\u{2192}\u{3010}<a href="/${A}">${A}</a>\u{3011}\u{6210}\u{529F}\u{3002}`,"success"),await f(c))}catch(n){if("moderation-move-queued"===n){t.record(`\u{79FB}\u{52A8}\u{3010}<a href="/${a}${o?"":"?redirect=no"}" class="${o?"":"mw-redirect"}">${a}</a>\u{3011}\u{2192}\u{3010}<a href="/${A}">${A}</a>\u{3011}\u{6210}\u{529F}\u{8BF7}\u{6C42}\u{5DF2}\u{53D1}\u{51FA}\u{FF0C}\u{7B49}\u{5F85}\u{5BA1}\u{6838}\u{4E2D}\u{3002}`,"success"),await f(c);continue}let e="";switch(n){case"missingtitle":e="源页面不存在";break;case"articleexists":e="目标页面已存在";break;case"http":e="网络连接出错";break;default:e=n}t.record(`\u{79FB}\u{52A8}\u{3010}<a href="/${a}">${a}</a>\u{3011}\u{2192}\u{3010}<a href="/${A}">${A}</a>\u{3011}\u{5931}\u{8D25}\u{FF1A}${e}\u{3002}`,"error")}t.record("移动完毕。"),g.setDisabled(!1),window.onbeforeunload=()=>null,$("#mw-content-text input, #mw-content-text textarea").prop("disabled",!1)}})})())})()})();
//# sourceMappingURL=BulkMove.min.js.map