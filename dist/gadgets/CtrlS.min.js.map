{"version":3,"file":"CtrlS.min.js","sources":["webpack://bearbin-moegirlpedia/./src/gadgets/CtrlS/index.ts","webpack://bearbin-moegirlpedia/webpack/runtime/rspack_version","webpack://bearbin-moegirlpedia/webpack/runtime/rspack_unique_id"],"sourcesContent":["if (['edit', 'submit'].includes(mw.config.get('wgAction'))) {\n  // 编辑页Ctrl+S保存，Ctrl+Shift+S小编辑保存\n  window.addEventListener('keydown', (event) => {\n    if (event.ctrlKey) {\n      switch (event.key) {\n        case 's': // Ctrl+S保存\n          event.preventDefault();\n          document.getElementById('wpSave')!.click();\n          break;\n        case 'S': // Ctrl+Shift+S 切换小编辑后保存\n          event.preventDefault();\n          document.getElementById('wpMinoredit')!.click();\n          document.getElementById('wpSave')!.click();\n          break;\n        case 'V': // Ctrl+Shift+V 预览\n          event.preventDefault();\n          // 模块页“预览使用本模板的页面”\n          if (mw.config.get('wgCodeEditorCurrentLanguage') === 'lua') {\n            (document.querySelector<HTMLInputElement>('#wpTemplateSandboxPreview input'))!.click();\n          }\n          document.getElementById('wpPreview')!.click();\n          break;\n        case 'D': // Ctrl+Shift+D 查看差异\n          event.preventDefault();\n          document.getElementById('wpDiff')!.click();\n      }\n    }\n  });\n\n  // 在编辑框中时按tab跳转到摘要输入框而非快捷插入\n  const itv = setInterval(() => {\n    const lineWrapping = document.querySelector<HTMLDivElement>('.cm-lineWrapping');\n    if (lineWrapping) {\n      lineWrapping.tabIndex = 1;\n      clearInterval(itv);\n    }\n  }, 1000);\n} else if (document.getElementById('ca-edit')) {\n  // ctrl+e打开w+快速编辑\n  window.addEventListener('keydown', (event) => {\n    if (event.ctrlKey && event.key === 'e') {\n      event.preventDefault();\n      document.getElementById('Wikiplus-Edit-TopBtn')!.click();\n    }\n  });\n}\n","__webpack_require__.rv = () => (\"1.4.2\")","__webpack_require__.ruid = \"bundler=rspack@1.4.2\";\n"],"names":["mw","window","event","document","itv","setInterval","lineWrapping","clearInterval"],"mappings":"yIAAA,GCAA,EAAoB,EAAE,CAAG,IAAO,QCAhC,EAAoB,IAAI,CAAG,uBFAvB,CAAC,OAAQ,SAAS,CAAC,QAAQ,CAACA,GAAG,MAAM,CAAC,GAAG,CAAC,aAAc,CAE1DC,OAAO,gBAAgB,CAAC,UAAW,AAACC,IAClC,GAAIA,EAAM,OAAO,CACf,OAAQA,EAAM,GAAG,EACf,IAAK,IACHA,EAAM,cAAc,GACpBC,SAAS,cAAc,CAAC,UAAW,KAAK,GACxC,KACF,KAAK,IACHD,EAAM,cAAc,GACpBC,SAAS,cAAc,CAAC,eAAgB,KAAK,GAC7CA,SAAS,cAAc,CAAC,UAAW,KAAK,GACxC,KACF,KAAK,IACHD,EAAM,cAAc,GAEhBF,AAAiD,QAAjDA,GAAG,MAAM,CAAC,GAAG,CAAC,gCACfG,SAAS,aAAa,CAAmB,mCAAqC,KAAK,GAEtFA,SAAS,cAAc,CAAC,aAAc,KAAK,GAC3C,KACF,KAAK,IACHD,EAAM,cAAc,GACpBC,SAAS,cAAc,CAAC,UAAW,KAAK,EAC5C,CAEJ,GAGA,IAAMC,EAAMC,YAAY,KACtB,IAAMC,EAAeH,SAAS,aAAa,CAAiB,oBACxDG,IACFA,EAAa,QAAQ,CAAG,EACxBC,cAAcH,GAElB,EAAG,IACL,MAAWD,SAAS,cAAc,CAAC,YAEjCF,OAAO,gBAAgB,CAAC,UAAW,AAACC,IAC9BA,EAAM,OAAO,EAAIA,AAAc,MAAdA,EAAM,GAAG,GAC5BA,EAAM,cAAc,GACpBC,SAAS,cAAc,CAAC,wBAAyB,KAAK,GAE1D,E"}