{"version":3,"file":"ExportXML.min.js","sources":["webpack://bearbin-moegirlpedia/./src/components/Loger/index.less","webpack://bearbin-moegirlpedia/./src/gadgets/ExportXML/index.less","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/runtime/api.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/jstoxml@5.0.2/node_modules/jstoxml/dist/jstoxml.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://bearbin-moegirlpedia/webpack/runtime/compat_get_default_export","webpack://bearbin-moegirlpedia/webpack/runtime/define_property_getters","webpack://bearbin-moegirlpedia/webpack/runtime/has_own_property","webpack://bearbin-moegirlpedia/webpack/runtime/nonce","webpack://bearbin-moegirlpedia/webpack/runtime/rspack_version","webpack://bearbin-moegirlpedia/webpack/runtime/rspack_unique_id","webpack://bearbin-moegirlpedia/./src/utils/api/categoryMembers.ts","webpack://bearbin-moegirlpedia/./src/utils/string.ts","webpack://bearbin-moegirlpedia/./src/utils/wait.ts","webpack://bearbin-moegirlpedia/./src/utils/formatNS.ts","webpack://bearbin-moegirlpedia/./src/utils/dom.ts","webpack://bearbin-moegirlpedia/./src/components/Loger/index.less?57bb","webpack://bearbin-moegirlpedia/./src/components/Loger/index.ts","webpack://bearbin-moegirlpedia/./src/gadgets/ExportXML/baseinfo.ts","webpack://bearbin-moegirlpedia/./src/gadgets/ExportXML/index.less?671f","webpack://bearbin-moegirlpedia/./src/gadgets/ExportXML/index.ts","webpack://bearbin-moegirlpedia/./src/utils/file.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.bearbintools-loger .loger-clear{margin-left:.3em;font-size:.9em;font-weight:400}.bearbintools-loger .loger-body{background:#ffffffb3;border:1px solid #ccc;padding:.3em;display:flow-root}.bearbintools-loger .loger-filter{float:right;padding:.4em}.bearbintools-loger .loger-filter>div{cursor:pointer;border-radius:.3em;margin-bottom:.2em;padding-right:.2em}.bearbintools-loger .loger-filter>div.loger-filter-selected{background-color:#7f7f7f12}.bearbintools-loger .loger-filter .loger-filter-icon{text-align:center;width:1.2em;height:1em;line-height:1em;display:inline-block}.bearbintools-loger .loger-lines{max-height:20em;font-family:monospace;list-style:inside;overflow-y:auto}.bearbintools-loger .loger-lines>li a{color:inherit;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Loger/index.less\"],\"names\":[],\"mappings\":\"AADA,iCAAA,gBAAA,CAAA,cAAA,CAAA,eAAA,CAKA,gCAAA,oBAAA,CAAA,qBAAA,CAAA,YAAA,CAAA,iBAAA,CAMA,kCAAA,WAAA,CAAA,YAAA,CAIA,sCAAA,cAAA,CAAA,kBAAA,CAAA,kBAAA,CAAA,kBAAA,CAMA,4DAAA,0BAAA,CAGA,qDAAA,iBAAA,CAAA,WAAA,CAAA,UAAA,CAAA,eAAA,CAAA,oBAAA,CAOA,iCAAA,eAAA,CAAA,qBAAA,CAAA,iBAAA,CAAA,eAAA,CAMA,sCAAA,aAAA,CAAA,wCAAA,CAAA,gCAAA\",\"sourcesContent\":[\".bearbintools-loger .loger-clear {\\n  margin-left: 0.3em;\\n  font-size: 0.9em;\\n  font-weight: normal;\\n}\\n.bearbintools-loger .loger-body {\\n  display: flow-root;\\n  padding: 0.3em;\\n  border: 1px solid #ccc;\\n  background: rgba(255, 255, 255, 0.7);\\n}\\n.bearbintools-loger .loger-filter {\\n  float: right;\\n  padding: 0.4em;\\n}\\n.bearbintools-loger .loger-filter > div {\\n  border-radius: 0.3em;\\n  margin-bottom: 0.2em;\\n  padding-right: 0.2em;\\n  cursor: pointer;\\n}\\n.bearbintools-loger .loger-filter > div.loger-filter-selected {\\n  background-color: rgba(127, 127, 127, 0.07);\\n}\\n.bearbintools-loger .loger-filter .loger-filter-icon {\\n  display: inline-block;\\n  width: 1.2em;\\n  height: 1em;\\n  line-height: 1em;\\n  text-align: center;\\n}\\n.bearbintools-loger .loger-lines {\\n  max-height: 20em;\\n  overflow-y: auto;\\n  list-style: inside;\\n  font-family: monospace;\\n}\\n.bearbintools-loger .loger-lines > li a {\\n  color: inherit;\\n  text-decoration: underline dotted;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.bearbingadget-exportxml #firstHeading{flex-wrap:wrap;justify-content:space-between;align-items:flex-end;display:flex}.bearbingadget-exportxml #firstHeading>div{font-size:.6em}#exportxml-exportbutton{margin-top:.6em}#exportxml-log .loger-headline{display:none}#exportxml-log .loger-body{min-height:5em}#exportxml-log .loger-filter{display:none}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/gadgets/ExportXML/index.less\"],\"names\":[],\"mappings\":\"AADA,uCAAA,cAAA,CAAA,6BAAA,CAAA,oBAAA,CAAA,YAAA,CAMA,2CAAA,cAAA,CAGA,wBAAA,eAAA,CAGA,+BAAA,YAAA,CAGA,2BAAA,cAAA,CAGA,6BAAA,YAAA\",\"sourcesContent\":[\".bearbingadget-exportxml #firstHeading {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  align-items: flex-end;\\n}\\n.bearbingadget-exportxml #firstHeading > div {\\n  font-size: 0.6em;\\n}\\n#exportxml-exportbutton {\\n  margin-top: 0.6em;\\n}\\n#exportxml-log .loger-headline {\\n  display: none;\\n}\\n#exportxml-log .loger-body {\\n  min-height: 5em;\\n}\\n#exportxml-log .loger-filter {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.jstoxml = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.toXML = _exports.default = void 0;\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n  function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\n  function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n  function _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n  function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n  var DATA_TYPES = {\n    ARRAY: 'array',\n    BOOLEAN: 'boolean',\n    DATE: 'date',\n    FUNCTION: 'function',\n    JSTOXML_OBJECT: 'jstoxml-object',\n    NULL: 'null',\n    NUMBER: 'number',\n    OBJECT: 'object',\n    STRING: 'string'\n  };\n  var PRIMITIVE_TYPES = [DATA_TYPES.STRING, DATA_TYPES.NUMBER, DATA_TYPES.BOOLEAN];\n  var DEFAULT_XML_HEADER = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n  var PRIVATE_VARS = ['_selfCloseTag', '_attrs'];\n\n  /**\n   * Determines the indent string based on current tree depth.\n   */\n  var getIndentStr = function getIndentStr() {\n    var indent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return indent.repeat(depth);\n  };\n\n  /**\n   * Sugar function supplementing JS's quirky typeof operator, plus some extra help to detect\n   * \"special objects\" expected by jstoxml.\n   * @example\n   * getType(new Date());\n   * // -> 'date'\n   */\n  var getType = function getType(val) {\n    return Array.isArray(val) && DATA_TYPES.ARRAY || _typeof(val) === DATA_TYPES.OBJECT && val !== null && val._name && DATA_TYPES.JSTOXML_OBJECT || val instanceof Date && DATA_TYPES.DATE || val === null && DATA_TYPES.NULL || _typeof(val);\n  };\n\n  /**\n   * Determines if a string is CDATA and shouldn't be touched.\n   * @example\n   * isCDATA('<![CDATA[<b>test</b>]]>');\n   * // -> true\n   */\n  var isCDATA = function isCDATA(str) {\n    return str.startsWith('<![CDATA[');\n  };\n\n  /**\n   * Replaces matching values in a string with a new value.\n   * @example\n   * mapStr('foo&bar', { '&': '&amp;' });\n   * // -> 'foo&amp;bar'\n   */\n  var mapStr = function mapStr() {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var replacements = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var contentMap = arguments.length > 2 ? arguments[2] : undefined;\n    var output = input;\n    if (_typeof(input) === DATA_TYPES.STRING) {\n      if (isCDATA(input)) {\n        return input;\n      }\n      var regexp = new RegExp(\"(\".concat(Object.keys(replacements).join('|'), \")(?!(\\\\w|#)*;)\"), 'g');\n      output = String(input).replace(regexp, function (str, entity) {\n        return replacements[entity] || '';\n      });\n    }\n    return typeof contentMap === 'function' ? contentMap(output) : output;\n  };\n\n  /**\n   * Maps an object or array of arribute keyval pairs to a string.\n   * @example\n   * getAttributeKeyVals({ foo: 'bar', baz: 'g' });\n   * // -> 'foo=\"bar\" baz=\"g\"'\n   * getAttributeKeyVals([ { ⚡: true }, { foo: 'bar' } ]);\n   * // -> '⚡ foo=\"bar\"'\n   */\n  var getAttributeKeyVals = function getAttributeKeyVals() {\n    var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var replacements = arguments.length > 1 ? arguments[1] : undefined;\n    var filter = arguments.length > 2 ? arguments[2] : undefined;\n    var outputExplicitTrue = arguments.length > 3 ? arguments[3] : undefined;\n    // Normalizes between attributes as object and as array.\n    var attributesArr = Array.isArray(attributes) ? attributes : Object.entries(attributes).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        val = _ref2[1];\n      return _defineProperty({}, key, val);\n    });\n    return attributesArr.reduce(function (allAttributes, attr) {\n      var key = Object.keys(attr)[0];\n      var val = attr[key];\n      if (_typeof(filter) === DATA_TYPES.FUNCTION) {\n        var shouldFilterOut = filter(key, val);\n        if (shouldFilterOut) {\n          return allAttributes;\n        }\n      }\n      var replacedVal = replacements ? mapStr(val, replacements) : val;\n      var valStr = !outputExplicitTrue && replacedVal === true ? '' : \"=\\\"\".concat(replacedVal, \"\\\"\");\n      allAttributes.push(\"\".concat(key).concat(valStr));\n      return allAttributes;\n    }, []);\n  };\n\n  /**\n   * Converts an attributes object/array to a string of keyval pairs.\n   * @example\n   * formatAttributes({ a: 1, b: 2 })\n   * // -> 'a=\"1\" b=\"2\"'\n   */\n  var formatAttributes = function formatAttributes() {\n    var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var replacements = arguments.length > 1 ? arguments[1] : undefined;\n    var filter = arguments.length > 2 ? arguments[2] : undefined;\n    var outputExplicitTrue = arguments.length > 3 ? arguments[3] : undefined;\n    var keyVals = getAttributeKeyVals(attributes, replacements, filter, outputExplicitTrue);\n    if (keyVals.length === 0) return '';\n    var keysValsJoined = keyVals.join(' ');\n    return \" \".concat(keysValsJoined);\n  };\n\n  /**\n   * Converts an object into an array of jstoxml-object.\n   * @example\n   * objToArray({ foo: 'bar', baz: 2 });\n   * ->\n   * [\n   *   {\n   *     _name: 'foo',\n   *     _content: 'bar'\n   *   },\n   *   {\n   *     _name: 'baz',\n   *     _content: 2\n   *   }\n   * ]\n   */\n  var objToArray = function objToArray() {\n    var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Object.keys(obj).map(function (key) {\n      return {\n        _name: key,\n        _content: obj[key]\n      };\n    });\n  };\n\n  /**\n   * Determines if a value is a primitive JavaScript value (not including Symbol).\n   * @example\n   * isPrimitive(4);\n   * // -> true\n   */\n  var isPrimitive = function isPrimitive(val) {\n    return PRIMITIVE_TYPES.includes(getType(val));\n  };\n\n  /**\n   * Determines if an XML string is simple (doesn't contain nested XML data).\n   * @example\n   * isSimpleXML('<foo />');\n   * // -> false\n   */\n  var isSimpleXML = function isSimpleXML(xmlStr) {\n    return !xmlStr.match('<');\n  };\n\n  /**\n   * Assembles an XML header as defined by the config.\n   */\n  var getHeaderString = function getHeaderString(_ref4) {\n    var header = _ref4.header,\n      isOutputStart = _ref4.isOutputStart;\n    var shouldOutputHeader = header && isOutputStart;\n    if (!shouldOutputHeader) return '';\n    var shouldUseDefaultHeader = _typeof(header) === DATA_TYPES.BOOLEAN;\n    return shouldUseDefaultHeader ? DEFAULT_XML_HEADER : header;\n  };\n\n  /**\n   * Recursively traverses an object tree and converts the output to an XML string.\n   * @example\n   * toXML({ foo: 'bar' });\n   * // -> <foo>bar</foo>\n   */\n  var defaultEntityReplacements = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\"': '&quot;'\n  };\n  var toXML = _exports.toXML = function toXML() {\n    var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _config$depth = config.depth,\n      depth = _config$depth === void 0 ? 0 : _config$depth,\n      indent = config.indent,\n      _isFirstItem = config._isFirstItem,\n      _config$_isOutputStar = config._isOutputStart,\n      _isOutputStart = _config$_isOutputStar === void 0 ? true : _config$_isOutputStar,\n      header = config.header,\n      _config$attributeRepl = config.attributeReplacements,\n      rawAttributeReplacements = _config$attributeRepl === void 0 ? {} : _config$attributeRepl,\n      attributeFilter = config.attributeFilter,\n      _config$attributeExpl = config.attributeExplicitTrue,\n      attributeExplicitTrue = _config$attributeExpl === void 0 ? false : _config$attributeExpl,\n      _config$contentReplac = config.contentReplacements,\n      rawContentReplacements = _config$contentReplac === void 0 ? {} : _config$contentReplac,\n      contentMap = config.contentMap,\n      _config$selfCloseTags = config.selfCloseTags,\n      selfCloseTags = _config$selfCloseTags === void 0 ? true : _config$selfCloseTags;\n    var shouldTurnOffAttributeReplacements = typeof rawAttributeReplacements === 'boolean' && !rawAttributeReplacements;\n    var attributeReplacements = shouldTurnOffAttributeReplacements ? {} : _objectSpread(_objectSpread({}, defaultEntityReplacements), rawAttributeReplacements);\n    var shouldTurnOffContentReplacements = typeof rawContentReplacements === 'boolean' && !rawContentReplacements;\n    var contentReplacements = shouldTurnOffContentReplacements ? {} : _objectSpread(_objectSpread({}, defaultEntityReplacements), rawContentReplacements);\n    var shouldAddNewlines = typeof indent === 'string';\n\n    // Determines indent based on depth.\n    var indentStr = getIndentStr(indent, depth);\n\n    // For branching based on value type.\n    var valType = getType(obj);\n    var headerStr = getHeaderString({\n      header: header,\n      indent: indent,\n      depth: depth,\n      isOutputStart: _isOutputStart\n    });\n    var isOutputStart = _isOutputStart && !headerStr && _isFirstItem && depth === 0;\n    var preIndentStr = shouldAddNewlines && !isOutputStart ? '\\n' : '';\n    var outputStr = '';\n    switch (valType) {\n      case DATA_TYPES.JSTOXML_OBJECT:\n        {\n          // Processes a specially-formatted object used by jstoxml.\n\n          var _name = obj._name,\n            _content = obj._content;\n\n          // Output text content without a tag wrapper.\n          if (_content === null && typeof contentMap !== 'function') {\n            outputStr = \"\".concat(preIndentStr).concat(indentStr).concat(_name);\n            break;\n          }\n\n          // Handles arrays of primitive values. (#33)\n          var isArrayOfPrimitives = Array.isArray(_content) && _content.every(isPrimitive);\n          if (isArrayOfPrimitives) {\n            var primitives = _content.map(function (a) {\n              return toXML({\n                _name: _name,\n                _content: a\n              }, _objectSpread(_objectSpread({}, config), {}, {\n                depth: depth,\n                _isOutputStart: false\n              }));\n            });\n            return primitives.join('');\n          }\n\n          // Don't output private vars (such as _attrs).\n          if (PRIVATE_VARS.includes(_name)) break;\n\n          // Process the nested new value and create new config.\n          var newVal = toXML(_content, _objectSpread(_objectSpread({}, config), {}, {\n            depth: depth + 1,\n            _isOutputStart: isOutputStart\n          }));\n          var newValType = getType(newVal);\n          var isNewValSimple = isSimpleXML(newVal);\n          var isNewValCDATA = isCDATA(newVal);\n\n          // Pre-tag output (indent and line breaks).\n          var preTag = \"\".concat(preIndentStr).concat(indentStr);\n\n          // Special handling for comments, preserving preceding line breaks/indents.\n          if (_name === '_comment') {\n            outputStr += \"\".concat(preTag, \"<!-- \").concat(_content, \" -->\");\n            break;\n          }\n\n          // Tag output.\n          var valIsEmpty = newValType === 'undefined' || newVal === '';\n          var globalSelfClose = selfCloseTags;\n          var localSelfClose = obj._selfCloseTag;\n          var shouldSelfClose = _typeof(localSelfClose) === DATA_TYPES.BOOLEAN ? valIsEmpty && localSelfClose : valIsEmpty && globalSelfClose;\n          var selfCloseStr = shouldSelfClose ? '/' : '';\n          var attributesString = formatAttributes(obj._attrs, attributeReplacements, attributeFilter, attributeExplicitTrue);\n          var tag = \"<\".concat(_name).concat(attributesString).concat(selfCloseStr, \">\");\n\n          // Post-tag output (closing tag, indent, line breaks).\n          var preTagCloseStr = shouldAddNewlines && !isNewValSimple && !isNewValCDATA ? \"\\n\".concat(indentStr) : '';\n          var postTag = !shouldSelfClose ? \"\".concat(newVal).concat(preTagCloseStr, \"</\").concat(_name, \">\") : '';\n          outputStr += \"\".concat(preTag).concat(tag).concat(postTag);\n          break;\n        }\n      case DATA_TYPES.OBJECT:\n        {\n          // Iterates over keyval pairs in an object, converting each item to a special-object.\n\n          var keys = Object.keys(obj);\n          var outputArr = keys.map(function (key, index) {\n            var newConfig = _objectSpread(_objectSpread({}, config), {}, {\n              _isFirstItem: index === 0,\n              _isLastItem: index + 1 === keys.length,\n              _isOutputStart: isOutputStart\n            });\n            var outputObj = {\n              _name: key\n            };\n            if (getType(obj[key]) === DATA_TYPES.OBJECT) {\n              // Sub-object contains an object.\n\n              // Move private vars up as needed.  Needed to support certain types of objects\n              // E.g. { foo: { _attrs: { a: 1 } } } -> <foo a=\"1\"/>\n              PRIVATE_VARS.forEach(function (privateVar) {\n                var val = obj[key][privateVar];\n                if (typeof val !== 'undefined') {\n                  outputObj[privateVar] = val;\n                  delete obj[key][privateVar];\n                }\n              });\n              var hasContent = typeof obj[key]._content !== 'undefined';\n              if (hasContent) {\n                // _content has sibling keys, so pass as an array (edge case).\n                // E.g. { foo: 'bar', _content: { baz: 2 } } -> <foo>bar</foo><baz>2</baz>\n                if (Object.keys(obj[key]).length > 1) {\n                  var newContentObj = Object.assign({}, obj[key]);\n                  delete newContentObj._content;\n                  outputObj._content = [].concat(_toConsumableArray(objToArray(newContentObj)), [obj[key]._content]);\n                }\n              }\n            }\n\n            // Fallthrough: just pass the key as the content for the new special-object.\n            if (typeof outputObj._content === 'undefined') outputObj._content = obj[key];\n            var xml = toXML(outputObj, newConfig);\n            return xml;\n          }, config);\n          outputStr = outputArr.join('');\n          break;\n        }\n      case DATA_TYPES.FUNCTION:\n        {\n          // Executes a user-defined function and returns output.\n\n          var fnResult = obj(config);\n          outputStr = toXML(fnResult, config);\n          break;\n        }\n      case DATA_TYPES.ARRAY:\n        {\n          // Iterates and converts each value in an array.\n          var _outputArr = obj.map(function (singleVal, index) {\n            var newConfig = _objectSpread(_objectSpread({}, config), {}, {\n              _isFirstItem: index === 0,\n              _isLastItem: index + 1 === obj.length,\n              _isOutputStart: isOutputStart\n            });\n            return toXML(singleVal, newConfig);\n          });\n          outputStr = _outputArr.join('');\n          break;\n        }\n\n      // fallthrough types (number, string, boolean, date, null, etc)\n      default:\n        {\n          outputStr = mapStr(obj, contentReplacements, contentMap);\n          break;\n        }\n    }\n    return \"\".concat(headerStr).concat(outputStr);\n  };\n  var _default = _exports.default = {\n    toXML: toXML\n  };\n});\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// getDefaultExport function for compatibility with non-ESM modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};\n","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","__webpack_require__.rv = () => (\"1.4.2\")","__webpack_require__.ruid = \"bundler=rspack@1.4.2\";\n","import type { Cmtype, ApiQueryResponse } from \"@/@types/api\";\n\n/**\n * 获取分类成员，有权限用户使用api，无权限用户使用ajax。\n *\n * @param cmtitle 分类名\n * @param cmtype 获取类型\n * @returns 页面列表\n */\nconst getCategoryMembers = async (cmtitle: string, cmtype: Cmtype[] = ['page', 'subcat', 'file']) => {\n  const api = new mw.Api();\n  const pageList: string[] = [];\n  // 有api权限的用户通过API获取，无权限用户通过ajax获取\n  if (mw.config.get('wgUserGroups')!.some((group) => ['bot', 'flood', 'patroller', 'sysop'].includes(group))) {\n    let cmcontinue: string | undefined = '';\n    while (cmcontinue !== undefined) {\n      const result = await api.post({\n        action: 'query',\n        format: 'json',\n        utf8: true,\n        list: 'categorymembers',\n        cmlimit: 'max',\n        cmtitle,\n        cmprop: 'title',\n        cmtype,\n        cmcontinue,\n      }) as ApiQueryResponse;\n      if (result.query.categorymembers[0]) {\n        pageList.push(...result.query.categorymembers.map(({ title }) => title));\n      }\n      cmcontinue = result.continue?.cmcontinue;\n    }\n  } else {\n    /**\n     * 对于未持有对应用户组的用户，通过ajax递归获取分类成员\n     * @param {string} link\n     */\n    const getCategoryMembersByAjax = async (link: string) => {\n      const $ajaxResult = $(await $.ajax(link));\n      const selector = cmtype.map((type) => {\n        switch (type) {\n          case 'page':\n            return '#mw-pages li a';\n          case 'subcat':\n            return '#mw-subcategories li a';\n          case 'file':\n            return '#mw-category-media li a.galleryfilename';\n        }\n      }).join(',');\n\n      // 将分类内的页面加入列表\n      const members = $ajaxResult.find(selector).map((_, ele) => {\n        if (ele.classList.contains('CategoryTreeLabel')) {\n          return `Category:${$(ele).text()}`;\n        } else if (ele.classList.contains('galleryfilename')) {\n          return `File:${$(ele).text()}`;\n        }\n        return $(ele).text();\n      }).get();\n      pageList.push(...members);\n\n      // 获取下一页分类内页面\n      if (cmtype.includes('page')) {\n        const $pageContinueLink = $ajaxResult.find('a[href*=\"&pagefrom=\"]');\n        if ($pageContinueLink.length) {\n          await getCategoryMembersByAjax($pageContinueLink.eq(0).attr('href')!);\n        }\n      }\n\n      // 获取下一页子分类\n      if (cmtype.includes('subcat')) {\n        const $catContinueLink = $ajaxResult.find('a[href*=\"&subcatfrom=\"]');\n        if ($catContinueLink.length) {\n          await getCategoryMembersByAjax($catContinueLink.eq(0).attr('href')!);\n        }\n      }\n\n      // 获取下一页分类文件\n      if (cmtype.includes('file')) {\n        const $catContinueLink = $ajaxResult.find('a[href*=\"&filefrom=\"]');\n        if ($catContinueLink.length) {\n          await getCategoryMembersByAjax($catContinueLink.eq(0).attr('href')!);\n        }\n      }\n    };\n\n    await getCategoryMembersByAjax(`/${cmtitle}?useskin=vector&safemode=1`);\n  }\n  return pageList;\n};\n\nexport const traverseCategoryMembers = async (cmtitle: string) => {\n  const traversedCategoryList: string[] = [];\n\n  const traverseCategory = async (category: string) => {\n    const api = new mw.Api();\n    const pageList: string[] = [];\n    let gcmcontinue: string | undefined = '';\n    while (gcmcontinue !== undefined) {\n      const response = await api.post({\n        action: 'query',\n        generator: 'categorymembers',\n        gcmtitle: category,\n        gcmtype: 'page|subcat',\n        gcmlimit: 'max',\n        gcmcontinue,\n      }) as ApiQueryResponse;\n      gcmcontinue = response.continue?.gcmcontinue;\n      for (const { ns, title } of Object.values(response.query.pages)) {\n        if (ns === 14 && !traversedCategoryList.includes(title)) {\n          traversedCategoryList.push(title); // 避免套娃\n          pageList.push(...await traverseCategory(title));\n        } else {\n          pageList.push(title);\n        }\n      }\n      console.log(`\\x1B[4m${category}\\x1B[0m下查找到\\x1B[4m${pageList.length}\\x1B[0m个页面`);\n    }\n    return [...new Set(pageList)];\n  };\n\n  return await traverseCategory(cmtitle);\n};\n\nexport default getCategoryMembers;\n","/**\n * 将字符串分割并过滤空行\n * @param content 要分割的字符串\n * @returns 页面列表\n */\nconst splitList = (content: string): string[] => content.split('\\n').filter((s) => s && s.trim());\n\nexport { splitList };\n","/**\n * 同步延时\n * @param time 等待时间\n */\nconst waitInterval = (time: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, time));\n};\n\nexport default waitInterval;\n","/** 将标题转化为用户讨论名字空间格式 */\nexport const formatNS3 = (title: string) => {\n  return title.replace(/^ *(?:User[_ ]talk:|用[户戶][讨討][论論]:|使用者[讨討][论論]:|U:|User:|用[户戶]:)?(.*)$/i, 'User_talk:$1');\n};\n\n/** 将标题转化为分类名字空间格式 */\nexport const formatNS14 = (title: string) => {\n  return title.replace(/^ *(?:Category:|CAT:|分[类類]:)?(.*)$/i, 'Category:$1');\n};\n","/**\n * 根据html字符串创建节点\n * @param html HTML字符串\n * @returns 节点\n */\nconst createElement = (html: string) => {\n  const template = document.createElement('template');\n  template.innerHTML = html.trim();\n  return template.content.children[0] as HTMLElement;\n};\n\nexport default createElement;\n","\n      import API from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/cjs.js!builtin:lightningcss-loader??clonedRuleSet-2.use[0]!../../../node_modules/.pnpm/less-loader@11.1.4_less@4.3.0_webpack@5.99.9/node_modules/less-loader/dist/cjs.js!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/cjs.js!builtin:lightningcss-loader??clonedRuleSet-2.use[0]!../../../node_modules/.pnpm/less-loader@11.1.4_less@4.3.0_webpack@5.99.9/node_modules/less-loader/dist/cjs.js!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import createElement from '@/utils/dom';\nimport './index.less';\n\n/**\n * Loger对象的日志类型基础接口\n */\ninterface LogerProps {\n  /**\n   * 类型图标\n   */\n  icon: string | HTMLElement;\n\n  /**\n   * 类型颜色\n   */\n  color: string;\n\n  /**\n   * 类型文本\n   */\n  text: string;\n}\n\n/**\n * Loger对象的日志类型信息\n */\nexport interface LogerType extends LogerProps {\n  /**\n   * 日志类型名\n   */\n  name: string;\n}\n\nexport interface LogType extends LogerProps {\n  show?: boolean;\n}\n\ntype LogTypes = Record<string, LogType>;\n\n/**\n * 日志筛选按钮对象\n */\ninterface FilterButton {\n  button: HTMLElement,\n  countElement: HTMLElement,\n}\n\n/**\n * 日志行详情信息\n */\nexport interface LogDetail {\n  /**\n   * 日志行对应的HTML元素\n   */\n  element: HTMLElement,\n\n  /**\n   * 日志类型\n   */\n  type: string,\n}\n\nexport default class Loger {\n  private _logTypes: LogTypes = {\n    success: {\n      icon: '✓',\n      color: '#333',\n      text: '完成',\n    },\n    warn: {\n      icon: '!',\n      color: '#f28500',\n      text: '警告',\n    },\n    error: {\n      icon: '✕',\n      color: '#eb3941',\n      text: '出错',\n    },\n  };\n\n  /** Loger对象的HTML元素 */\n  element: HTMLDivElement;\n\n  /** 标题HTML元素 */\n  headline: HTMLElement;\n\n  /** 日志主体HTML元素 */\n  body = createElement('<div class=\"loger-body\"></div>') as HTMLDivElement;\n\n  /** 日志详情列表HTML元素 */\n  logerLines = createElement('<ul class=\"loger-lines\"></ul>') as HTMLUListElement;\n\n  /**\n   * 记录日志详情\n   * @type {Array<{node: HTMLAnchorElement, type: string}>}\n   */\n  logDetails: LogDetail[] = [];\n\n  /**\n   * 日志按钮\n   */\n  filterButtons: Record<string, FilterButton> = {};\n\n  /**\n   * 创建一个Loger对象\n   * @param logTypes 日志行类型及其属性\n   * @param id 元素id\n   * @param headlineTagName 标题元素标签名\n   */\n  constructor(logTypes: LogerType[] = [], id = '', headlineTagName = 'h3') {\n    if (logTypes.length > 0) {\n      // 根据输入生成需要的类型\n      this._logTypes = logTypes.reduce((pre, { name, icon, color, text }) => {\n        pre[name] = {\n          icon,\n          color,\n          text,\n        };\n        return pre;\n      }, {} as LogTypes);\n    }\n    for (const key in this._logTypes) {\n      // 默认显示\n      this._logTypes[key].show = true;\n    }\n\n    // 标题\n    this.headline = createElement(`<${headlineTagName} class=\"loger-headline\"></${headlineTagName}>`);\n\n    // 清空按钮\n    const clearButton = createElement('<a class=\"loger-clear\">[清空]</a>') as HTMLAnchorElement;\n    clearButton.addEventListener('click', this.clear.bind(this));\n\n    // 日志筛选区\n    const logerFilter = createElement('<nav class=\"loger-filter\"></nav>');\n\n    // 筛选按钮\n    for (const [type, { icon, color, text }] of Object.entries(this._logTypes)) {\n      const button = createElement(`<div class=\"loger-filter-selected loger-${type}\" style=\"color:${color}\"></div>`);\n\n      const iconElement = createElement('<span class=\"loger-filter-icon\"></span>');\n      iconElement.append(icon);\n\n      const countElement = createElement('<span class=\"loger-filter-count\">0</span>');\n\n      button.append(iconElement, countElement, ` ${text}`);\n\n      // 添加点击隐藏/显示日志行事件\n      button.addEventListener('click', () => {\n        if (this._logTypes[type].show) {\n          button.classList.remove('loger-filter-selected'); // 按钮添加对应类\n          this.logerLines.classList.add(`loger-${type}-hidden`); // 日志行元素添加隐藏类\n          this.logDetails.filter((detail) => detail.type === type).forEach((detail) => {\n            detail.element.style.display = 'none';\n          });\n          this._logTypes[type].show = false; // 设置显示状态为false\n        } else {\n          button.classList.add('loger-filter-selected');\n          this.logerLines.classList.remove(`loger-${type}-hidden`);\n          this.logDetails.filter((detail) => detail.type === type).forEach((detail) => {\n            detail.element.style.display = '';\n          });\n          this._logTypes[type].show = true;\n        }\n      });\n\n      this.filterButtons[type] = {\n        button,\n        countElement,\n      };\n\n      logerFilter.appendChild(button);\n    }\n\n    // 创建日志元素\n    this.element = createElement(`<div class=\"bearbintools-loger\" id=\"${id || ''}\"></div>`) as HTMLDivElement;\n\n    this.headline.append('日志', clearButton);\n    this.body.append(logerFilter, this.logerLines);\n    this.element.append(this.headline, this.body);\n  }\n\n  /**\n   * 添加一条日志\n   * @param text 文本\n   * @param type 日志，接受HTML形式的字符串\n   * @param time 时间\n   */\n  record(text: string, type = 'normal', time = new Date().toLocaleTimeString()) {\n    const record = document.createElement('li');\n    record.classList.add('loger-record', `loger-${type}`);\n    record.innerHTML = `${time} - ${text}`;\n    record.style.color = this._logTypes[type]?.color || '#222';\n\n    // 根据选择状态决定是否显示\n    if (this._logTypes[type]?.show === false) {\n      record.style.display = 'none';\n    }\n\n    this.logerLines.appendChild(record);\n    this.logerLines.scrollTop = this.logerLines.scrollHeight; // 日志滚动至底部\n    this.logDetails.push({\n      element: record,\n      type,\n    });\n    if (this.filterButtons[type]) {\n      this.filterButtons[type].countElement.innerText = String(+this.filterButtons[type].countElement.innerText + 1);\n    }\n    return record;\n  }\n\n  /** 清空日志 */\n  clear() {\n    this.logDetails.length = 0;\n    this.logerLines.innerHTML = '';\n    for (const key in this.filterButtons) {\n      this.filterButtons[key].countElement.innerText = '0';\n    }\n  }\n}\n","import type { XmlElement } from 'jstoxml';\n\ninterface NSinfo {\n  id: number;\n  'case': string;\n  subpages?: string;\n  canonical?: string;\n  \"*\": string;\n}\n\n/** 读取站点信息并保存为XML所需的数据对象 */\nconst generateBaseinfo = async () => {\n  const api = new mw.Api();\n  const {\n    query: {\n      general: {\n        sitename,\n        dbname,\n        base,\n        generator,\n        'case': sitecase, // 保留字\n        lang,\n      },\n      namespaces,\n    },\n  } = await api.post({\n    action: 'query',\n    meta: 'siteinfo',\n    siprop: ['general', 'namespaces'],\n  });\n\n  return {\n    _name: 'mediawiki',\n    _attrs: {\n      xmlns: 'http://www.mediawiki.org/xml/export-0.11/',\n      'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n      'xsi:schemaLocation': 'http://www.mediawiki.org/xml/export-0.11/ http://www.mediawiki.org/xml/export-0.11.xsd',\n      version: '0.11',\n      'xml:lang': lang,\n    },\n    _content: [\n      {\n        siteinfo: {\n          sitename,\n          dbname: dbname || 'medaiwiki',\n          base,\n          generator,\n          'case': sitecase,\n          namespaces: Object.entries(namespaces as Record<string, NSinfo>).map(([nsid, {\n            'case': nscase,\n            \"*\": nsname,\n          }]) => ({\n            _name: 'namespace',\n            _attrs: {\n              key: nsid,\n              'case': nscase,\n            },\n            _content: nsname,\n          })),\n        },\n      },\n    ] as XmlElement[],\n  };\n};\n\nexport default generateBaseinfo;\n","\n      import API from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.99.9/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/cjs.js!builtin:lightningcss-loader??clonedRuleSet-2.use[0]!../../../node_modules/.pnpm/less-loader@11.1.4_less@4.3.0_webpack@5.99.9/node_modules/less-loader/dist/cjs.js!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.2_webpack@5.99.9/node_modules/css-loader/dist/cjs.js!builtin:lightningcss-loader??clonedRuleSet-2.use[0]!../../../node_modules/.pnpm/less-loader@11.1.4_less@4.3.0_webpack@5.99.9/node_modules/less-loader/dist/cjs.js!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * @description 将页面内容导出为可在其他站点导入的XML文件\n */\n\nimport { toXML, type XmlElement } from 'jstoxml';\nimport { categoryMembers } from '@/utils/api';\nimport { splitList } from '@/utils/string';\nimport waitInterval from '@/utils/wait';\nimport { formatNS14 } from '@/utils/formatNS';\nimport { downloadStringAsFile } from '@/utils/file';\nimport Loger from \"@/components/Loger\";\nimport generateBaseinfo from './baseinfo';\nimport type { ApiParams, Revisions, ApiQueryResponse } from '@/@types/api';\nimport './index.less';\n\ninterface Page {\n  title?: string;\n  ns?: string | number;\n  id?: string | number;\n  revisions: Revisions[];\n}\n\nconst interval = 4000;\n\n$(() => (async () => {\n  if (!['Special:ExportXML', 'Special:Export', 'Special:导出页面'].includes(mw.config.get('wgPageName'))) {\n    if ('ExportXML' in window) {\n      await mw.loader.using('mediawiki.util');\n      mw.util.addPortletLink('p-tb', '/Special:ExportXML', '导出页面', 't-exportxml');\n    }\n    return;\n  }\n  await mw.loader.using(['mediawiki.api', 'oojs-ui', 'moment']);\n  const api = new mw.Api();\n  const loger = new Loger([\n    {\n      name: 'success',\n      icon: '✓',\n      color: '#333',\n      text: '成功',\n    },\n    {\n      name: 'error',\n      icon: '✕',\n      color: '#eb3941',\n      text: '出错',\n    },\n  ], 'exportxml-log');\n\n  /**\n   * 在Special:ExportXML构建页面\n   */\n  mw.config.set('wgCanonicalSpecialPageName', 'ExportXML');\n  document.title = '导出页面 - 萌娘百科_万物皆可萌的百科全书';\n  $(document.body).addClass('bearbingadget-exportxml');\n  $('.mw-invalidspecialpage').removeClass('mw-invalidspecialpage');\n  $('#firstHeading').html('导出页面<div>By <a href=\"/User:BearBin\">BearBin</a></div>');\n  $('#contentSub').remove();\n\n  /** 分类输入框 */\n  const categoriesInput = new OO.ui.MultilineTextInputWidget({ rows: 5 });\n  /** 页面列表输入框 */\n  const pagesInput = new OO.ui.MultilineTextInputWidget({ rows: 10 });\n  /** 导出执行按钮 */\n  const submitButton = new OO.ui.ButtonWidget({\n    label: '导出',\n    flags: ['primary', 'progressive'],\n    id: 'exportxml-exportbutton',\n  });\n  /** 是否导出历史 */\n  const onlyCurrent = new OO.ui.CheckboxInputWidget({ selected: true });\n\n  $('#mw-content-text').empty().append(\n    $('<p />').append(\n      '本页面用于',\n      $('<a href=\"https://www.mediawiki.org/wiki/Help:Export/zh\">导出</a>'),\n      '特定页面的文本和编辑历史，导出的XML可用于在其他站点通过',\n      $('<a href=\"/Special:Import\">导入功能</a>'),\n      '重新导入。',\n    ),\n    $('<p />').append(\n      '由于萌娘百科未开放导出功能，本工具仅对其进行',\n      '<b>尽可能地</b>',\n      '复现，实际用时远高于MediaWiki提供的标准导出功能，且没有递归导出所使用模板的功能（理论上能做，但暂时不考虑）。',\n    ),\n    '<p>为了避免WAF，部分导出步骤已被刻意放缓，每两个页面需要等待约5s，在导出时请耐心等待，并请尽量避免额外的访问（如边导出边浏览或编辑）</p>',\n    '<p>在下方的分类列表或页面列表输入，一行一个。对于每个分类，会获取其各自的分类和文件，不含子分类。</p>',\n    '<p>由机器人等持有“在API查询中使用更高的上限”<code>(apihighlimits)</code>权限的账号执行可以获得更快的导出速度。</p>',\n    '<h3>指定分类内的页面</h3>',\n    categoriesInput.$element,\n    '<h3>手动输入页面</h3>',\n    pagesInput.$element,\n    (new OO.ui.FieldLayout(\n      onlyCurrent, { label: '仅包含当前修订，而不是完整历史', align: 'inline' },\n    )).$element,\n    submitButton.$element,\n    '<h3>日志</h3>',\n    loger.element,\n  );\n\n  /** 根据输入获取完整页面列表 */\n  const getFullList = async () => {\n    const pageList = splitList(pagesInput.getValue());\n    for (const category of splitList(categoriesInput.getValue())) {\n      const categoryTitle = formatNS14(category);\n      const pagesInCat = await categoryMembers(categoryTitle, ['page', 'file']);\n      loger.record(`分类【<a href=\"/${categoryTitle}\">${category}</a>】下获取到${pagesInCat.length}个页面。`);\n      pageList.push(...pagesInCat);\n    }\n    return [...new Set(pageList)];\n  };\n\n  /**\n   * 获取一个页面的历史\n   * @param title 页面标题\n   * @param getCurrentOnly 是否仅获取当前版本\n   */\n  const getPageHistory = async (title: string, getCurrentOnly: boolean) => {\n    let rvcontinue: string | undefined;\n    const pageData: Page = {\n      revisions: [],\n    };\n    do {\n      const apiParams: ApiParams = {\n        action: 'query',\n        prop: 'revisions',\n        titles: title,\n        rvprop: ['content', 'ids', 'flags', 'timestamp', 'user', 'userid', 'size', 'sha1', 'contentmodel', 'comment', 'tags'],\n        rvlimit: getCurrentOnly ? 1 : 'max',\n        rvdir: getCurrentOnly ? 'older' : 'newer',\n      };\n      if (rvcontinue) {\n        apiParams.rvcontinue = rvcontinue;\n        await waitInterval(interval);\n      }\n      const response = await api.get(apiParams) as ApiQueryResponse;\n      rvcontinue = response.continue?.rvcontinue;\n      const [responsePageData] = Object.values(response.query.pages);\n      pageData.id = responsePageData.pageid;\n      pageData.ns = responsePageData.ns;\n      pageData.title = responsePageData.title;\n      if (responsePageData.revisions) {\n        pageData.revisions.push(...responsePageData.revisions);\n      }\n    } while (!getCurrentOnly && rvcontinue);\n    return pageData;\n  };\n\n  /** 将获取到的修订版本信息转换为XML所需格式 */\n  const formatRevision = (rev: Revisions, origin?: string | number): XmlElement => ({\n    revision: [\n      { id: rev.revid },\n      { parentid: rev.parentid },\n      { timestamp: rev.timestamp },\n      {\n        _name: 'contributor',\n        _attrs: 'contributorhidden' in rev ? { deleted: 'deleted' } : {},\n        _content: 'contributorhidden' in rev ? {} : { username: rev.user, id: rev.userid },\n      },\n      ...('minor' in rev ? [{ minor: rev.minor }] : []),\n      ...('bot' in rev ? [{ bot: rev.bot }] : []),\n      ...('sha1hidden' in rev ? [{ sha1hidden: rev.sha1hidden }] : []),\n      ...('texthidden' in rev ? [{ texthidden: rev.texthidden }] : []),\n      ...('commenthidden' in rev ? [{ commenthidden: rev.commenthidden }] : []),\n      {\n        _name: 'comment',\n        _attrs: 'commenthidden' in rev ? { deleted: 'deleted' } : {},\n        _content: rev.comment,\n      },\n      { origin },\n      { model: rev.contentmodel },\n      { format: rev.contentformat },\n      {\n        _name: 'text',\n        _attrs: 'texthidden' in rev ? {\n          bytes: rev.size,\n          sha1: rev.sha1,\n          deleted: 'deleted',\n        } : {\n          bytes: rev.size,\n          sha1: rev.sha1,\n          'xml:space': 'preserve',\n        },\n        _content: rev['*']?.replace(/&/g, '&amp;'),\n      },\n    ],\n  });\n\n  submitButton.on('click', async () => {\n    submitButton.setDisabled(true);\n    const pageList = await getFullList();\n    if (!pageList.length) {\n      submitButton.setDisabled(false);\n      return;\n    }\n    let exportData: XmlElement;\n    /** 是否仅导出当前版本 */\n    const getCurrentOnly = onlyCurrent.isSelected();\n    const baseinfoRecord = loger.record('正在读取站点基本信息……');\n    try {\n      exportData = await generateBaseinfo();\n      baseinfoRecord.remove();\n      loger.record(`正在读取站点基本信息……成功。`);\n    } catch (err) {\n      baseinfoRecord.remove();\n      loger.record(`读取站点基本信息失败：${err}`, 'error');\n      submitButton.setDisabled(false);\n      return;\n    }\n    for (const page of pageList) {\n      await waitInterval(interval);\n      try {\n        loger.record(`正在读取页面<a href=\"/${page}\">${page}</a>历史……`);\n        const { title, ns, id, revisions } = await getPageHistory(page, getCurrentOnly);\n        if (id) {\n          (exportData._content as XmlElement[]).push({\n            page: [\n              { title },\n              { ns },\n              { id },\n              ...revisions.map((revision) => formatRevision(revision, id)),\n            ],\n          });\n        } else {\n          loger.record(`页面${page}不存在。`, 'error');\n        }\n      } catch (err) {\n        loger.record(`读取页面${page}历史失败：${err}，已跳过。`, 'error');\n      }\n    }\n    loger.record('数据获取完毕，正在保存。');\n    downloadStringAsFile(\n      `${mw.config.get('wgSiteName')}-${moment().format('YYYYMMDDHHmmss')}.xml`,\n      toXML(exportData, { indent: '  ' }),\n    );\n    submitButton.setDisabled(false);\n  });\n})());\n","/** 将字符串保存为文件 */\nexport function downloadStringAsFile(filename: string, textContent: string) {\n  // 创建Blob对象\n  const blob = new Blob([textContent], { type: 'text/plain' });\n\n  // 创建隐藏的可下载链接\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  link.style.display = 'none';\n\n  // 将链接添加到DOM中以触发下载\n  document.body.appendChild(link);\n\n  // 触发点击下载\n  link.click();\n\n  // 清理资源\n  URL.revokeObjectURL(url);\n  document.body.removeChild(link);\n}\n"],"names":["a","btoa","unescape","encodeURIComponent","JSON","globalThis","self","e","Object","arguments","Symbol","TypeError","String","Number","n","Array","Date","RegExp","i","_","define","c","o","document","window","Error","getCategoryMembers","cmtitle","cmtype","api","mw","pageList","group","cmcontinue","undefined","result","title","getCategoryMembersByAjax","link","$ajaxResult","$","selector","type","members","ele","$pageContinueLink","$catContinueLink","splitList","content","s","time","Promise","resolve","setTimeout","formatNS14","html","template","Loger","createElement","logTypes","id","headlineTagName","key","pre","name","icon","color","text","clearButton","logerFilter","button","iconElement","countElement","detail","record","generateBaseinfo","sitename","dbname","base","generator","sitecase","lang","namespaces","nsid","nscase","nsname","loger","categoriesInput","OO","pagesInput","submitButton","onlyCurrent","getFullList","category","categoryTitle","pagesInCat","categoryMembers","Set","getPageHistory","getCurrentOnly","rvcontinue","pageData","apiParams","waitInterval","response","responsePageData","formatRevision","rev","origin","exportData","baseinfoRecord","err","page","ns","revisions","revision","downloadStringAsFile","filename","textContent","blob","Blob","url","URL","moment","toXML"],"mappings":"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"}