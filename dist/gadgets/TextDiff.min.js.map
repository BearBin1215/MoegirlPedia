{"version":3,"file":"TextDiff.min.js","sources":["webpack://bearbin-moegirlpedia/./src/gadgets/TextDiff/index.less","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.11_webpack@5.101.0/node_modules/css-loader/dist/runtime/api.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.11_webpack@5.101.0/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/dom-to-image@2.6.0/node_modules/dom-to-image/src/dom-to-image.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://bearbin-moegirlpedia/./node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://bearbin-moegirlpedia/webpack/runtime/compat_get_default_export","webpack://bearbin-moegirlpedia/webpack/runtime/define_property_getters","webpack://bearbin-moegirlpedia/webpack/runtime/has_own_property","webpack://bearbin-moegirlpedia/webpack/runtime/nonce","webpack://bearbin-moegirlpedia/webpack/runtime/rspack_version","webpack://bearbin-moegirlpedia/webpack/runtime/rspack_unique_id","webpack://bearbin-moegirlpedia/./src/utils/api/compare.ts","webpack://bearbin-moegirlpedia/./src/utils/api/pageSource.ts","webpack://bearbin-moegirlpedia/./src/gadgets/TextDiff/index.less?b16b","webpack://bearbin-moegirlpedia/./src/gadgets/TextDiff/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.11_webpack@5.101.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.11_webpack@5.101.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.rootpage-Special_TextDiff #firstHeading{flex-wrap:wrap;justify-content:space-between;align-items:flex-end;display:flex}.rootpage-Special_TextDiff #firstHeading>div{font-size:.6em}.rootpage-Special_TextDiff #bodyContent{padding-right:0!important}.rootpage-Special_TextDiff #bodyContent #mw-content-text .oo-ui-textInputWidget{max-width:unset}.rootpage-Special_TextDiff #bodyContent #mw-content-text .get-source-from-page>.oo-ui-textInputWidget{max-width:25em;margin-right:0}.rootpage-Special_TextDiff .get-source-from-page{gap:.3em;margin-top:.4em;display:flex}.rootpage-Special_TextDiff #submit-button{margin-top:1em}.rootpage-Special_TextDiff #diff-result{padding:.2em}.rootpage-Special_TextDiff #result-action{margin-top:1em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/gadgets/TextDiff/index.less\"],\"names\":[],\"mappings\":\"AAEA,yCAAA,cAAA,CAAA,6BAAA,CAAA,oBAAA,CAAA,YAAA,CAMA,6CAAA,cAAA,CAGA,wCAAA,yBAAA,CAGA,gFAAA,eAAA,CAGA,sGAAA,cAAA,CAAA,cAAA,CAIA,iDAAA,QAAA,CAAA,eAAA,CAAA,YAAA,CAKA,0CAAA,cAAA,CAGA,wCAAA,YAAA,CAGA,0CAAA,cAAA\",\"sourcesContent\":[\"/** flex基础，默认全居中 */\\n/** 覆盖渲染页面的样式 */\\n/** 文本溢出显示省略号 */\\n.rootpage-Special_TextDiff #firstHeading {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  align-items: flex-end;\\n}\\n.rootpage-Special_TextDiff #firstHeading > div {\\n  font-size: 0.6em;\\n}\\n.rootpage-Special_TextDiff #bodyContent {\\n  padding-right: 0 !important;\\n}\\n.rootpage-Special_TextDiff #bodyContent #mw-content-text .oo-ui-textInputWidget {\\n  max-width: unset;\\n}\\n.rootpage-Special_TextDiff #bodyContent #mw-content-text .get-source-from-page > .oo-ui-textInputWidget {\\n  margin-right: 0;\\n  max-width: 25em;\\n}\\n.rootpage-Special_TextDiff .get-source-from-page {\\n  margin-top: 0.4em;\\n  display: flex;\\n  gap: 0.3em;\\n}\\n.rootpage-Special_TextDiff #submit-button {\\n  margin-top: 1em;\\n}\\n.rootpage-Special_TextDiff #diff-result {\\n  padding: 0.2em;\\n}\\n.rootpage-Special_TextDiff #result-action {\\n  margin-top: 1em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","(function (global) {\n    'use strict';\n\n    var util = newUtil();\n    var inliner = newInliner();\n    var fontFaces = newFontFaces();\n    var images = newImages();\n\n    // Default impl options\n    var defaultOptions = {\n        // Default is to fail on error, no placeholder\n        imagePlaceholder: undefined,\n        // Default cache bust is false, it will use the cache\n        cacheBust: false\n    };\n\n    var domtoimage = {\n        toSvg: toSvg,\n        toPng: toPng,\n        toJpeg: toJpeg,\n        toBlob: toBlob,\n        toPixelData: toPixelData,\n        impl: {\n            fontFaces: fontFaces,\n            images: images,\n            util: util,\n            inliner: inliner,\n            options: {}\n        }\n    };\n\n    if (typeof module !== 'undefined')\n        module.exports = domtoimage;\n    else\n        global.domtoimage = domtoimage;\n\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options\n     * @param {Function} options.filter - Should return true if passed node should be included in the output\n     *          (excluding node means excluding it's children as well). Not called on the root node.\n     * @param {String} options.bgcolor - color for the background, any valid CSS color value.\n     * @param {Number} options.width - width to be applied to node before rendering.\n     * @param {Number} options.height - height to be applied to node before rendering.\n     * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\n     * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\n                defaults to 1.0.\n     * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\n     * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\n     * @return {Promise} - A promise that is fulfilled with a SVG image data URL\n     * */\n    function toSvg(node, options) {\n        options = options || {};\n        copyOptions(options);\n        return Promise.resolve(node)\n            .then(function (node) {\n                return cloneNode(node, options.filter, true);\n            })\n            .then(embedFonts)\n            .then(inlineImages)\n            .then(applyOptions)\n            .then(function (clone) {\n                return makeSvgDataUri(clone,\n                    options.width || util.width(node),\n                    options.height || util.height(node)\n                );\n            });\n\n        function applyOptions(clone) {\n            if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\n\n            if (options.width) clone.style.width = options.width + 'px';\n            if (options.height) clone.style.height = options.height + 'px';\n\n            if (options.style)\n                Object.keys(options.style).forEach(function (property) {\n                    clone.style[property] = options.style[property];\n                });\n\n            return clone;\n        }\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\n     * */\n    function toPixelData(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.getContext('2d').getImageData(\n                    0,\n                    0,\n                    util.width(node),\n                    util.height(node)\n                ).data;\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image data URL\n     * */\n    function toPng(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.toDataURL();\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\n     * */\n    function toJpeg(node, options) {\n        options = options || {};\n        return draw(node, options)\n            .then(function (canvas) {\n                return canvas.toDataURL('image/jpeg', options.quality || 1.0);\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image blob\n     * */\n    function toBlob(node, options) {\n        return draw(node, options || {})\n            .then(util.canvasToBlob);\n    }\n\n    function copyOptions(options) {\n        // Copy options to impl options for use in impl\n        if(typeof(options.imagePlaceholder) === 'undefined') {\n            domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\n        } else {\n            domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\n        }\n\n        if(typeof(options.cacheBust) === 'undefined') {\n            domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\n        } else {\n            domtoimage.impl.options.cacheBust = options.cacheBust;\n        }\n    }\n\n    function draw(domNode, options) {\n        return toSvg(domNode, options)\n            .then(util.makeImage)\n            .then(util.delay(100))\n            .then(function (image) {\n                var canvas = newCanvas(domNode);\n                canvas.getContext('2d').drawImage(image, 0, 0);\n                return canvas;\n            });\n\n        function newCanvas(domNode) {\n            var canvas = document.createElement('canvas');\n            canvas.width = options.width || util.width(domNode);\n            canvas.height = options.height || util.height(domNode);\n\n            if (options.bgcolor) {\n                var ctx = canvas.getContext('2d');\n                ctx.fillStyle = options.bgcolor;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n\n            return canvas;\n        }\n    }\n\n    function cloneNode(node, filter, root) {\n        if (!root && filter && !filter(node)) return Promise.resolve();\n\n        return Promise.resolve(node)\n            .then(makeNodeCopy)\n            .then(function (clone) {\n                return cloneChildren(node, clone, filter);\n            })\n            .then(function (clone) {\n                return processClone(node, clone);\n            });\n\n        function makeNodeCopy(node) {\n            if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\n            return node.cloneNode(false);\n        }\n\n        function cloneChildren(original, clone, filter) {\n            var children = original.childNodes;\n            if (children.length === 0) return Promise.resolve(clone);\n\n            return cloneChildrenInOrder(clone, util.asArray(children), filter)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneChildrenInOrder(parent, children, filter) {\n                var done = Promise.resolve();\n                children.forEach(function (child) {\n                    done = done\n                        .then(function () {\n                            return cloneNode(child, filter);\n                        })\n                        .then(function (childClone) {\n                            if (childClone) parent.appendChild(childClone);\n                        });\n                });\n                return done;\n            }\n        }\n\n        function processClone(original, clone) {\n            if (!(clone instanceof Element)) return clone;\n\n            return Promise.resolve()\n                .then(cloneStyle)\n                .then(clonePseudoElements)\n                .then(copyUserInput)\n                .then(fixSvg)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneStyle() {\n                copyStyle(window.getComputedStyle(original), clone.style);\n\n                function copyStyle(source, target) {\n                    if (source.cssText) target.cssText = source.cssText;\n                    else copyProperties(source, target);\n\n                    function copyProperties(source, target) {\n                        util.asArray(source).forEach(function (name) {\n                            target.setProperty(\n                                name,\n                                source.getPropertyValue(name),\n                                source.getPropertyPriority(name)\n                            );\n                        });\n                    }\n                }\n            }\n\n            function clonePseudoElements() {\n                [':before', ':after'].forEach(function (element) {\n                    clonePseudoElement(element);\n                });\n\n                function clonePseudoElement(element) {\n                    var style = window.getComputedStyle(original, element);\n                    var content = style.getPropertyValue('content');\n\n                    if (content === '' || content === 'none') return;\n\n                    var className = util.uid();\n                    clone.className = clone.className + ' ' + className;\n                    var styleElement = document.createElement('style');\n                    styleElement.appendChild(formatPseudoElementStyle(className, element, style));\n                    clone.appendChild(styleElement);\n\n                    function formatPseudoElementStyle(className, element, style) {\n                        var selector = '.' + className + ':' + element;\n                        var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n                        return document.createTextNode(selector + '{' + cssText + '}');\n\n                        function formatCssText(style) {\n                            var content = style.getPropertyValue('content');\n                            return style.cssText + ' content: ' + content + ';';\n                        }\n\n                        function formatCssProperties(style) {\n\n                            return util.asArray(style)\n                                .map(formatProperty)\n                                .join('; ') + ';';\n\n                            function formatProperty(name) {\n                                return name + ': ' +\n                                    style.getPropertyValue(name) +\n                                    (style.getPropertyPriority(name) ? ' !important' : '');\n                            }\n                        }\n                    }\n                }\n            }\n\n            function copyUserInput() {\n                if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\n                if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\n            }\n\n            function fixSvg() {\n                if (!(clone instanceof SVGElement)) return;\n                clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n                if (!(clone instanceof SVGRectElement)) return;\n                ['width', 'height'].forEach(function (attribute) {\n                    var value = clone.getAttribute(attribute);\n                    if (!value) return;\n\n                    clone.style.setProperty(attribute, value);\n                });\n            }\n        }\n    }\n\n    function embedFonts(node) {\n        return fontFaces.resolveAll()\n            .then(function (cssText) {\n                var styleNode = document.createElement('style');\n                node.appendChild(styleNode);\n                styleNode.appendChild(document.createTextNode(cssText));\n                return node;\n            });\n    }\n\n    function inlineImages(node) {\n        return images.inlineAll(node)\n            .then(function () {\n                return node;\n            });\n    }\n\n    function makeSvgDataUri(node, width, height) {\n        return Promise.resolve(node)\n            .then(function (node) {\n                node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n                return new XMLSerializer().serializeToString(node);\n            })\n            .then(util.escapeXhtml)\n            .then(function (xhtml) {\n                return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\n            })\n            .then(function (foreignObject) {\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' +\n                    foreignObject + '</svg>';\n            })\n            .then(function (svg) {\n                return 'data:image/svg+xml;charset=utf-8,' + svg;\n            });\n    }\n\n    function newUtil() {\n        return {\n            escape: escape,\n            parseExtension: parseExtension,\n            mimeType: mimeType,\n            dataAsUrl: dataAsUrl,\n            isDataUrl: isDataUrl,\n            canvasToBlob: canvasToBlob,\n            resolveUrl: resolveUrl,\n            getAndEncode: getAndEncode,\n            uid: uid(),\n            delay: delay,\n            asArray: asArray,\n            escapeXhtml: escapeXhtml,\n            makeImage: makeImage,\n            width: width,\n            height: height\n        };\n\n        function mimes() {\n            /*\n             * Only WOFF and EOT mime types for fonts are 'real'\n             * see http://www.iana.org/assignments/media-types/media-types.xhtml\n             */\n            var WOFF = 'application/font-woff';\n            var JPEG = 'image/jpeg';\n\n            return {\n                'woff': WOFF,\n                'woff2': WOFF,\n                'ttf': 'application/font-truetype',\n                'eot': 'application/vnd.ms-fontobject',\n                'png': 'image/png',\n                'jpg': JPEG,\n                'jpeg': JPEG,\n                'gif': 'image/gif',\n                'tiff': 'image/tiff',\n                'svg': 'image/svg+xml'\n            };\n        }\n\n        function parseExtension(url) {\n            var match = /\\.([^\\.\\/]*?)$/g.exec(url);\n            if (match) return match[1];\n            else return '';\n        }\n\n        function mimeType(url) {\n            var extension = parseExtension(url).toLowerCase();\n            return mimes()[extension] || '';\n        }\n\n        function isDataUrl(url) {\n            return url.search(/^(data:)/) !== -1;\n        }\n\n        function toBlob(canvas) {\n            return new Promise(function (resolve) {\n                var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n                var length = binaryString.length;\n                var binaryArray = new Uint8Array(length);\n\n                for (var i = 0; i < length; i++)\n                    binaryArray[i] = binaryString.charCodeAt(i);\n\n                resolve(new Blob([binaryArray], {\n                    type: 'image/png'\n                }));\n            });\n        }\n\n        function canvasToBlob(canvas) {\n            if (canvas.toBlob)\n                return new Promise(function (resolve) {\n                    canvas.toBlob(resolve);\n                });\n\n            return toBlob(canvas);\n        }\n\n        function resolveUrl(url, baseUrl) {\n            var doc = document.implementation.createHTMLDocument();\n            var base = doc.createElement('base');\n            doc.head.appendChild(base);\n            var a = doc.createElement('a');\n            doc.body.appendChild(a);\n            base.href = baseUrl;\n            a.href = url;\n            return a.href;\n        }\n\n        function uid() {\n            var index = 0;\n\n            return function () {\n                return 'u' + fourRandomChars() + index++;\n\n                function fourRandomChars() {\n                    /* see http://stackoverflow.com/a/6248722/2519373 */\n                    return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n                }\n            };\n        }\n\n        function makeImage(uri) {\n            return new Promise(function (resolve, reject) {\n                var image = new Image();\n                image.onload = function () {\n                    resolve(image);\n                };\n                image.onerror = reject;\n                image.src = uri;\n            });\n        }\n\n        function getAndEncode(url) {\n            var TIMEOUT = 30000;\n            if(domtoimage.impl.options.cacheBust) {\n                // Cache bypass so we dont have CORS issues with cached images\n                // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n                url += ((/\\?/).test(url) ? \"&\" : \"?\") + (new Date()).getTime();\n            }\n\n            return new Promise(function (resolve) {\n                var request = new XMLHttpRequest();\n\n                request.onreadystatechange = done;\n                request.ontimeout = timeout;\n                request.responseType = 'blob';\n                request.timeout = TIMEOUT;\n                request.open('GET', url, true);\n                request.send();\n\n                var placeholder;\n                if(domtoimage.impl.options.imagePlaceholder) {\n                    var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\n                    if(split && split[1]) {\n                        placeholder = split[1];\n                    }\n                }\n\n                function done() {\n                    if (request.readyState !== 4) return;\n\n                    if (request.status !== 200) {\n                        if(placeholder) {\n                            resolve(placeholder);\n                        } else {\n                            fail('cannot fetch resource: ' + url + ', status: ' + request.status);\n                        }\n\n                        return;\n                    }\n\n                    var encoder = new FileReader();\n                    encoder.onloadend = function () {\n                        var content = encoder.result.split(/,/)[1];\n                        resolve(content);\n                    };\n                    encoder.readAsDataURL(request.response);\n                }\n\n                function timeout() {\n                    if(placeholder) {\n                        resolve(placeholder);\n                    } else {\n                        fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\n                    }\n                }\n\n                function fail(message) {\n                    console.error(message);\n                    resolve('');\n                }\n            });\n        }\n\n        function dataAsUrl(content, type) {\n            return 'data:' + type + ';base64,' + content;\n        }\n\n        function escape(string) {\n            return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }\n\n        function delay(ms) {\n            return function (arg) {\n                return new Promise(function (resolve) {\n                    setTimeout(function () {\n                        resolve(arg);\n                    }, ms);\n                });\n            };\n        }\n\n        function asArray(arrayLike) {\n            var array = [];\n            var length = arrayLike.length;\n            for (var i = 0; i < length; i++) array.push(arrayLike[i]);\n            return array;\n        }\n\n        function escapeXhtml(string) {\n            return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\n        }\n\n        function width(node) {\n            var leftBorder = px(node, 'border-left-width');\n            var rightBorder = px(node, 'border-right-width');\n            return node.scrollWidth + leftBorder + rightBorder;\n        }\n\n        function height(node) {\n            var topBorder = px(node, 'border-top-width');\n            var bottomBorder = px(node, 'border-bottom-width');\n            return node.scrollHeight + topBorder + bottomBorder;\n        }\n\n        function px(node, styleProperty) {\n            var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n            return parseFloat(value.replace('px', ''));\n        }\n    }\n\n    function newInliner() {\n        var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n\n        return {\n            inlineAll: inlineAll,\n            shouldProcess: shouldProcess,\n            impl: {\n                readUrls: readUrls,\n                inline: inline\n            }\n        };\n\n        function shouldProcess(string) {\n            return string.search(URL_REGEX) !== -1;\n        }\n\n        function readUrls(string) {\n            var result = [];\n            var match;\n            while ((match = URL_REGEX.exec(string)) !== null) {\n                result.push(match[1]);\n            }\n            return result.filter(function (url) {\n                return !util.isDataUrl(url);\n            });\n        }\n\n        function inline(string, url, baseUrl, get) {\n            return Promise.resolve(url)\n                .then(function (url) {\n                    return baseUrl ? util.resolveUrl(url, baseUrl) : url;\n                })\n                .then(get || util.getAndEncode)\n                .then(function (data) {\n                    return util.dataAsUrl(data, util.mimeType(url));\n                })\n                .then(function (dataUrl) {\n                    return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\n                });\n\n            function urlAsRegex(url) {\n                return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\n            }\n        }\n\n        function inlineAll(string, baseUrl, get) {\n            if (nothingToInline()) return Promise.resolve(string);\n\n            return Promise.resolve(string)\n                .then(readUrls)\n                .then(function (urls) {\n                    var done = Promise.resolve(string);\n                    urls.forEach(function (url) {\n                        done = done.then(function (string) {\n                            return inline(string, url, baseUrl, get);\n                        });\n                    });\n                    return done;\n                });\n\n            function nothingToInline() {\n                return !shouldProcess(string);\n            }\n        }\n    }\n\n    function newFontFaces() {\n        return {\n            resolveAll: resolveAll,\n            impl: {\n                readAll: readAll\n            }\n        };\n\n        function resolveAll() {\n            return readAll(document)\n                .then(function (webFonts) {\n                    return Promise.all(\n                        webFonts.map(function (webFont) {\n                            return webFont.resolve();\n                        })\n                    );\n                })\n                .then(function (cssStrings) {\n                    return cssStrings.join('\\n');\n                });\n        }\n\n        function readAll() {\n            return Promise.resolve(util.asArray(document.styleSheets))\n                .then(getCssRules)\n                .then(selectWebFontRules)\n                .then(function (rules) {\n                    return rules.map(newWebFont);\n                });\n\n            function selectWebFontRules(cssRules) {\n                return cssRules\n                    .filter(function (rule) {\n                        return rule.type === CSSRule.FONT_FACE_RULE;\n                    })\n                    .filter(function (rule) {\n                        return inliner.shouldProcess(rule.style.getPropertyValue('src'));\n                    });\n            }\n\n            function getCssRules(styleSheets) {\n                var cssRules = [];\n                styleSheets.forEach(function (sheet) {\n                    try {\n                        util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\n                    } catch (e) {\n                        console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\n                    }\n                });\n                return cssRules;\n            }\n\n            function newWebFont(webFontRule) {\n                return {\n                    resolve: function resolve() {\n                        var baseUrl = (webFontRule.parentStyleSheet || {}).href;\n                        return inliner.inlineAll(webFontRule.cssText, baseUrl);\n                    },\n                    src: function () {\n                        return webFontRule.style.getPropertyValue('src');\n                    }\n                };\n            }\n        }\n    }\n\n    function newImages() {\n        return {\n            inlineAll: inlineAll,\n            impl: {\n                newImage: newImage\n            }\n        };\n\n        function newImage(element) {\n            return {\n                inline: inline\n            };\n\n            function inline(get) {\n                if (util.isDataUrl(element.src)) return Promise.resolve();\n\n                return Promise.resolve(element.src)\n                    .then(get || util.getAndEncode)\n                    .then(function (data) {\n                        return util.dataAsUrl(data, util.mimeType(element.src));\n                    })\n                    .then(function (dataUrl) {\n                        return new Promise(function (resolve, reject) {\n                            element.onload = resolve;\n                            element.onerror = reject;\n                            element.src = dataUrl;\n                        });\n                    });\n            }\n        }\n\n        function inlineAll(node) {\n            if (!(node instanceof Element)) return Promise.resolve(node);\n\n            return inlineBackground(node)\n                .then(function () {\n                    if (node instanceof HTMLImageElement)\n                        return newImage(node).inline();\n                    else\n                        return Promise.all(\n                            util.asArray(node.childNodes).map(function (child) {\n                                return inlineAll(child);\n                            })\n                        );\n                });\n\n            function inlineBackground(node) {\n                var background = node.style.getPropertyValue('background');\n\n                if (!background) return Promise.resolve(node);\n\n                return inliner.inlineAll(background)\n                    .then(function (inlined) {\n                        node.style.setProperty(\n                            'background',\n                            inlined,\n                            node.style.getPropertyPriority('background')\n                        );\n                    })\n                    .then(function () {\n                        return node;\n                    });\n            }\n        }\n    }\n})(this);\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// getDefaultExport function for compatibility with non-ESM modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};\n","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","__webpack_require__.rv = () => (\"1.4.11\")","__webpack_require__.ruid = \"bundler=rspack@1.4.11\";\n","import type { ApiCompareResponse } from '@/@types/api';\n\ntype $orString = JQuery<HTMLElement> | Element | string;\n\n/** 将比较结果生成为JQuery对象 */\nexport function formatDiff(\n  diffResult: string,\n  showTitle = false,\n  $otitleContent?: $orString | $orString[],\n  $ntitleContent?: $orString | $orString[],\n) {\n  const $otitle = $(`<td colspan=\"${diffResult ? 2 : 1}\" class=\"diff-otitle\" />`);\n  const $ntitle = $(`<td colspan=\"${diffResult ? 2 : 1}\" class=\"diff-ntitle\" />`);\n  if (Array.isArray($otitleContent)) {\n    $otitle.append(...$otitleContent);\n  } else {\n    $otitle.append($otitleContent || '旧版本');\n  }\n  if (Array.isArray($ntitleContent)) {\n    $ntitle.append(...$ntitleContent);\n  } else {\n    $ntitle.append($ntitleContent || '新版本');\n  }\n  const diffTitle = $('<tr class=\"diff-title\" />').append($otitle, $ntitle);\n  const diffMarker = '<colgroup><col class=\"diff-marker\"><col class=\"diff-content\"><col class=\"diff-marker\"><col class=\"diff-content\"></colgroup>';\n  return $(`<table class=\"diff diff-contentalign-left\" data-mw=\"interface\" />`).append(\n    diffResult && diffMarker,\n    $('<tbody />').append(\n      showTitle ? diffTitle : '',\n      diffResult || '<tr><td colspan=\"2\" class=\"diff-notice\"><div class=\"mw-diff-empty\">（没有差异）</div></td></tr>',\n    ),\n  );\n}\n\n/**\n * 比较差异\n * @param fromtext 旧版本\n * @param totext 新版本\n * @param showTitle 是否显示标题（旧版本、新版本）\n * @returns 新旧版本差异\n */\nconst compare = async (fromtext: string, totext: string, showTitle = false) => {\n  const api = new mw.Api();\n  const res = await api.post({\n    action: 'compare',\n    fromtext,\n    totext,\n    topst: true,\n    fromtitle: 'PAGENAME',\n  }) as ApiCompareResponse;\n  return formatDiff(res.compare['*'], showTitle);\n};\n\nexport default compare;\n","import type { ApiQueryResponse } from '@/@types/api';\r\n\r\n/**\r\n * 获取页面源代码\r\n * @param title 页面标题\r\n * @returns 页面源代码\r\n */\r\nconst pageSource = async (title: string, params?: Record<string, any>): Promise<string | undefined> => {\r\n  const api = new mw.Api();\r\n  const res = await api.post({\r\n    action: 'query',\r\n    prop: 'revisions',\r\n    titles: title,\r\n    rvprop: 'content',\r\n    ...params,\r\n  }) as ApiQueryResponse;\r\n  const [pageData] = Object.values(res.query.pages);\r\n  if ('revisions' in pageData) {\r\n    return pageData.revisions?.[0]['*'];\r\n  }\r\n  if ('missing' in pageData) {\r\n    throw ('missingtitle');\r\n  }\r\n};\r\n\r\nexport default pageSource;\r\n","\n      import API from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.101.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.11_webpack@5.101.0/node_modules/css-loader/dist/cjs.js!builtin:lightningcss-loader??clonedRuleSet-2.use[0]!../../../node_modules/.pnpm/less-loader@11.1.4_less@4.4.0_webpack@5.101.0/node_modules/less-loader/dist/cjs.js!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/.pnpm/css-loader@6.11.0_@rspack+core@1.4.11_webpack@5.101.0/node_modules/css-loader/dist/cjs.js!builtin:lightningcss-loader??clonedRuleSet-2.use[0]!../../../node_modules/.pnpm/less-loader@11.1.4_less@4.4.0_webpack@5.101.0/node_modules/less-loader/dist/cjs.js!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import domtoimage from 'dom-to-image';\nimport { pageSource, compare } from '@/utils/api';\nimport './index.less';\n\n$(() => (async () => {\n  if (mw.config.get('wgPageName') !== 'Special:TextDiff') {\n    if ('TextDiff' in window) {\n      await mw.loader.using('mediawiki.util');\n      mw.util.addPortletLink('p-tb', '/Special:TextDiff', '文本差异比较', 't-textdiff');\n    }\n    return;\n  }\n  await mw.loader.using(['mediawiki.api', 'oojs-ui', 'mediawiki.notification']);\n\n  // 获取比较差异\n  const textCompare = async (fromtext: string, totext: string) => {\n    try {\n      const res = await compare(fromtext, totext);\n      return res;\n    } catch (error) {\n      mw.notify(`获取差异失败：${error}`, { type: 'warn' });\n    }\n  };\n\n  // 获取页面源代码\n  const getSource = async (title: string) => {\n    try {\n      return await pageSource(title);\n    } catch (error) {\n      mw.notify(`获取源代码失败：${error}`, { type: 'warn' });\n    }\n    mw.notify('获取源代码完毕');\n  };\n\n  $('#mw-notification-area').appendTo('body'); // 使提醒在窗口上层\n  mw.config.set('wgCanonicalSpecialPageName', 'TextDiff');\n  document.title = '差异比较 - 萌娘百科_万物皆可萌的百科全书';\n  mw.loader.load(`${mw.config.get('wgScriptPath')}/load.php?modules=mediawiki.diff.styles&only=styles`, 'text/css');\n  $('.mw-invalidspecialpage').removeClass('mw-invalidspecialpage');\n  $('#firstHeading').html('差异比较<div>By BearBin</div>');\n  $('#contentSub').remove();\n\n  const fromTextBox = new OO.ui.MultilineTextInputWidget({\n    rows: 10,\n    maxRows: 10,\n    autosize: true,\n  });\n\n  const fromPageBox = new OO.ui.TextInputWidget({\n    labelPosition: 'before',\n    label: '从页面',\n  });\n\n  const fromPageButton = new OO.ui.ButtonWidget({\n    label: '获取源代码',\n    flags: [\n      'progressive',\n    ],\n    id: 'from-page-button',\n  });\n\n  const $getOriginSource = $('<div class=\"get-source-from-page\"></div>').append(\n    fromPageBox.$element,\n    fromPageButton.$element,\n  );\n\n  const toPageBox = new OO.ui.TextInputWidget({\n    labelPosition: 'before',\n    label: '从页面',\n  });\n\n  const toPageButton = new OO.ui.ButtonWidget({\n    label: '获取源代码',\n    flags: [\n      'progressive',\n    ],\n    id: 'from-page-button',\n  });\n\n  const $getTargetSource = $('<div class=\"get-source-from-page\"></div>').append(\n    toPageBox.$element,\n    toPageButton.$element,\n  );\n\n  const toTextBox = new OO.ui.MultilineTextInputWidget({\n    rows: 10,\n    maxRows: 10,\n    autosize: true,\n  });\n\n  const submitButton = new OO.ui.ButtonWidget({\n    label: '比较',\n    flags: [\n      'primary',\n      'progressive',\n    ],\n    icon: 'check',\n    id: 'submit-button',\n  });\n\n  const saveButton = new OO.ui.ButtonWidget({\n    label: '保存图片',\n    icon: 'download',\n    id: 'save-button',\n  });\n\n  const copyButton = new OO.ui.ButtonWidget({\n    label: '复制到剪贴板',\n    id: 'copy-button',\n  });\n\n  const $result = $('<div id=\"diff-result\"></div>');\n\n  const $resultAction = $('<div id=\"result-action\"></div>').append(\n    saveButton.$element,\n    copyButton.$element,\n  ).hide();\n\n  $('#mw-content-text').empty().append(\n    '<h3>旧版本</h3>',\n    fromTextBox.$element,\n    $getOriginSource,\n    '<h3>新版本</h3>',\n    toTextBox.$element,\n    $getTargetSource,\n    submitButton.$element,\n    '<h3>差异</h3>',\n    $result,\n    $resultAction,\n  );\n\n  // 保存图片\n  const saveImage = () => {\n    domtoimage.toJpeg($result.get(0)!, { bgcolor: '#fff' }).then((dataUrl) => {\n      const link = document.createElement('a');\n      link.download = 'image.jpg';\n      link.href = dataUrl;\n      link.click();\n    });\n  };\n\n  // 复制图片至剪贴板\n  const copyImage = () => {\n    domtoimage.toBlob($result.get(0)!, { bgcolor: '#fff' }).then((blob) => {\n      navigator.clipboard.write([new ClipboardItem({ 'image/png': blob! })]).then(() => {\n        mw.notify('复制成功');\n      }, (error) => {\n        mw.notify(`复制失败：${error}`, { type: 'warn' });\n      });\n    });\n  };\n\n  // 通过页面获取源代码按钮\n  fromPageButton.on('click', async () => {\n    const source = await getSource(fromPageBox.getValue());\n    if (source) {\n      fromTextBox.setValue(source);\n    }\n  });\n\n  toPageButton.on('click', async () => {\n    const source = await getSource(toPageBox.getValue());\n    if (source) {\n      toTextBox.setValue(source);\n    }\n  });\n\n  submitButton.on('click', async () => {\n    submitButton.setDisabled(true);\n    try {\n      const result = await textCompare(fromTextBox.getValue(), toTextBox.getValue());\n      if (result) {\n        $result.empty().append(result);\n        $resultAction.show();\n      }\n    } catch (error) {\n      mw.notify(`比较出错：${error}`, { type: 'warn' });\n    }\n    submitButton.setDisabled(false);\n  });\n\n  saveButton.on('click', () => {\n    saveImage();\n  });\n\n  copyButton.on('click', () => {\n    copyImage();\n  });\n})());\n"],"names":["a","btoa","unescape","encodeURIComponent","JSON","t","Promise","window","Uint8Array","i","Blob","document","Date","r","XMLHttpRequest","FileReader","Math","setTimeout","Image","parseFloat","RegExp","e","CSSRule","Element","HTMLImageElement","HTMLCanvasElement","f","s","HTMLTextAreaElement","HTMLInputElement","SVGElement","SVGRectElement","Object","XMLSerializer","o","Error","compare","fromtext","totext","showTitle","api","mw","formatDiff","diffResult","$otitleContent","$ntitleContent","$otitle","$","$ntitle","Array","diffTitle","res","pageSource","title","params","pageData","textCompare","error","getSource","fromTextBox","OO","fromPageBox","fromPageButton","$getOriginSource","toPageBox","toPageButton","$getTargetSource","toTextBox","submitButton","saveButton","copyButton","$result","$resultAction","source","result","domtoimage","dataUrl","link","blob","navigator","ClipboardItem"],"mappings":"6FAGI,EAA0B,A,SAA4B,KAE1D,EAAwB,IAAI,CAAC,CAAC,EAAO,EAAE,CAAE,2tBAA4tB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8CAA8C,CAAC,MAAQ,EAAE,CAAC,SAAW,iNAAiN,eAAiB,CAAC,85BAA85B,CAAC,WAAa,EAAE,EAAE,EAEx/D,MAAe,C,6BCDf,GAAO,OAAO,CAAG,SAAU,CAAsB,EAC/C,IAAI,EAAO,EAAE,CA4Eb,OAzEA,EAAK,QAAQ,CAAG,WACd,OAAO,IAAI,CAAC,GAAG,CAAC,SAAU,CAAI,EAC5B,IAAI,EAAU,GACV,EAAY,AAAmB,SAAZ,CAAI,CAAC,EAAE,CAoB9B,OAnBI,CAAI,CAAC,EAAE,EACT,IAAW,cAAc,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,MAAK,EAE5C,CAAI,CAAC,EAAE,EACT,IAAW,UAAU,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,KAAI,EAEvC,GACF,IAAW,SAAS,MAAM,CAAC,CAAI,CAAC,EAAE,CAAC,MAAM,CAAG,EAAI,IAAI,MAAM,CAAC,CAAI,CAAC,EAAE,EAAI,GAAI,KAAI,EAEhF,GAAW,EAAuB,GAC9B,GACF,IAAW,GAAE,EAEX,CAAI,CAAC,EAAE,EACT,IAAW,GAAE,EAEX,CAAI,CAAC,EAAE,EACT,IAAW,GAAE,EAER,CACT,GAAG,IAAI,CAAC,GACV,EAGA,EAAK,CAAC,CAAG,SAAW,CAAO,CAAE,CAAK,CAAE,CAAM,CAAE,CAAQ,CAAE,CAAK,EACrD,AAAmB,UAAnB,OAAO,GACT,GAAU,CAAC,CAAC,KAAM,EAAS,OAAU,CAAC,AAAD,EAEvC,IAAIA,EAAyB,CAAC,EAC9B,GAAI,EACF,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,MAAM,CAAE,IAAK,CACpC,IAAI,EAAK,IAAI,CAAC,EAAE,CAAC,EAAE,AACf,AAAM,OAAN,GACFA,CAAAA,CAAsB,CAAC,EAAG,CAAG,EAAG,CAEpC,CAEF,IAAK,IAAI,EAAK,EAAG,EAAK,EAAQ,MAAM,CAAE,IAAM,CAC1C,IAAI,EAAO,EAAE,CAAC,MAAM,CAAC,CAAO,CAAC,EAAG,EAC5B,GAAUA,CAAsB,CAAC,CAAI,CAAC,EAAE,CAAC,GAGxB,SAAV,IACc,SAAZ,CAAI,CAAC,EAAE,EAGhB,EAAI,CAAC,EAAE,CAAG,SAAS,MAAM,CAAC,CAAI,CAAC,EAAE,CAAC,MAAM,CAAG,EAAI,IAAI,MAAM,CAAC,CAAI,CAAC,EAAE,EAAI,GAAI,MAAM,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,IAAG,EAFlG,CAAI,CAAC,EAAE,CAAG,GAMV,IACG,CAAI,CAAC,EAAE,EAGV,EAAI,CAAC,EAAE,CAAG,UAAU,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,MAAM,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,IAAG,EAF7D,CAAI,CAAC,EAAE,CAAG,GAMV,IACG,CAAI,CAAC,EAAE,EAGV,CAAI,CAAC,EAAE,CAAG,cAAc,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,OAAO,MAAM,CAAC,CAAI,CAAC,EAAE,CAAE,KAC/D,CAAI,CAAC,EAAE,CAAG,GAHV,CAAI,CAAC,EAAE,CAAG,GAAG,MAAM,CAAC,IAMxB,EAAK,IAAI,CAAC,GACZ,CACF,EACO,CACT,C,8BClFA,GAAO,OAAO,CAAG,SAAU,CAAI,EAC7B,IAAI,EAAU,CAAI,CAAC,EAAE,CACjB,EAAa,CAAI,CAAC,EAAE,CACxB,GAAI,CAAC,EACH,OAAO,EAET,GAAI,AAAgB,YAAhB,OAAOC,KAAqB,CAC9B,IAAI,EAASA,KAAKC,SAASC,mBAAmBC,KAAK,SAAS,CAAC,MAG7D,MAAO,CAAC,EAAQ,CAAC,MAAM,CAAC,CADJ,OAAO,MAAM,CADtB,+DAA+D,MAAM,CAAC,GACzC,OACD,EAAE,IAAI,CAAC,KAChD,CACA,MAAO,CAAC,EAAQ,CAAC,IAAI,CAAC,KACxB,C,mBCfA,AAAC,SAAU,CAAM,EACb,aAEA,IAAI,EAAO,AAwVX,WA4FQ,IAAI,EA3FR,MAAO,CACH,OAmLJ,SAAgB,CAAM,EAClB,OAAO,EAAO,OAAO,CAAC,2BAA4B,OACtD,EApLI,eAAgB,EAChB,SA2CJ,SAAkB,CAAG,EAEjB,MAAO,AAtBA,EACH,KAJO,wBAKP,MALO,wBAMP,IAAO,4BACP,IAAO,gCACP,IAAO,YACP,IARO,aASP,KATO,aAUP,IAAO,YACP,KAAQ,aACR,IAAO,eACX,EAWc,CADE,EAAe,GAAK,WAAW,GACtB,EAAI,EACjC,EA7CI,UA4KJ,SAAmB,CAAO,CAAEC,CAAI,EAC5B,MAAO,QAAUA,EAAO,WAAa,CACzC,EA7KI,UA8CJ,SAAmB,CAAG,EAClB,OAAO,AAA2B,KAA3B,EAAI,MAAM,CAAC,WACtB,EA/CI,aAgEJ,SAAsB,CAAM,SACxB,AAAI,EAAO,MAAM,CACN,IAAIC,QAAQ,SAAU,CAAO,EAChC,EAAO,MAAM,CAAC,EAClB,GAlBG,IAAIA,QAAQ,SAAU,CAAO,EAKhC,IAAK,IAJD,EAAeC,OAAO,IAAI,CAAC,AAmBrB,EAnB4B,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAC3D,EAAS,EAAa,MAAM,CAC5B,EAAc,IAAIC,WAAW,GAExBC,EAAI,EAAGA,EAAI,EAAQA,IACxB,CAAW,CAACA,EAAE,CAAG,EAAa,UAAU,CAACA,GAE7C,EAAQ,IAAIC,KAAK,CAAC,EAAY,CAAE,CAC5B,KAAM,WACV,GACJ,EAUJ,EAtEI,WAwEJ,SAAoB,CAAG,CAAE,CAAO,EAC5B,IAAI,EAAMC,SAAS,cAAc,CAAC,kBAAkB,GAChD,EAAO,EAAI,aAAa,CAAC,QAC7B,EAAI,IAAI,CAAC,WAAW,CAAC,GACrB,IAAI,EAAI,EAAI,aAAa,CAAC,KAI1B,OAHA,EAAI,IAAI,CAAC,WAAW,CAAC,GACrB,EAAK,IAAI,CAAG,EACZ,EAAE,IAAI,CAAG,EACF,EAAE,IAAI,AACjB,EAhFI,aA0GJ,SAAsB,CAAG,EAQrB,OANG,EAAW,IAAI,CAAC,OAAO,CAAC,SAAS,EAGhC,IAAO,AAAC,CAAC,KAAM,IAAI,CAAC,GAAO,IAAM,GAAE,EAAK,AAAC,IAAIC,OAAQ,OAAO,EAAC,EAG1D,IAAIN,QAAQ,SAAU,CAAO,EAChC,IASI,EATAO,EAAU,IAAIC,eAUlB,GARAD,EAAQ,kBAAkB,CAe1B,WACI,GAAIA,AAAuB,IAAvBA,EAAQ,UAAU,EAEtB,GAAIA,AAAmB,MAAnBA,EAAQ,MAAM,CAAU,YACrB,EACC,EAAQ,GAER,AAsBZ,SAAc,CAAO,EAEjB,EAAQ,GACZ,EAzBiB,0BAA4B,EAAM,aAAeA,EAAQ,MAAM,GAM5E,IAAI,EAAU,IAAIE,UAClB,GAAQ,SAAS,CAAG,WAEhB,EADc,EAAQ,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAE9C,EACA,EAAQ,aAAa,CAACF,EAAQ,QAAQ,EAC1C,EAjCAA,EAAQ,SAAS,CAmCjB,WACO,EACC,EAAQ,GAER,AAIR,SAAc,CAAO,EAEjB,EAAQ,GACZ,EAPa,uDAAmE,EAEhF,EAxCAA,EAAQ,YAAY,CAAG,OACvBA,EAAQ,OAAO,CAbL,IAcVA,EAAQ,IAAI,CAAC,MAAO,EAAK,IACzBA,EAAQ,IAAI,GAGT,EAAW,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAE,CACzC,IAAI,EAAQ,EAAW,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,IACxD,IAAS,CAAK,CAAC,EAAE,EAChB,GAAc,CAAK,CAAC,EAAE,AAAD,CAE7B,CAmCJ,EACJ,EArKI,GAAG,EAkFC,EAAQ,EAEL,WACH,MAAO,IAII,AAAC,QAAS,AAACG,CAAAA,AAAgB,QAAhBA,KAAK,MAAM,GAAwB,GAAG,QAAQ,CAAC,GAAE,EAAG,KAAK,CAAC,IAJ/C,GAMrC,GA1FA,MA8KJ,SAAe,CAAE,EACb,OAAO,SAAU,CAAG,EAChB,OAAO,IAAIV,QAAQ,SAAU,CAAO,EAChCW,WAAW,WACP,EAAQ,EACZ,EAAG,EACP,EACJ,CACJ,EArLI,QAuLJ,SAAiB,CAAS,EAGtB,IAAK,IAFD,EAAQ,EAAE,CACV,EAAS,EAAU,MAAM,CACpB,EAAI,EAAG,EAAI,EAAQ,IAAK,EAAM,IAAI,CAAC,CAAS,CAAC,EAAE,EACxD,OAAO,CACX,EA3LI,YA6LJ,SAAqB,CAAM,EACvB,OAAO,EAAO,OAAO,CAAC,KAAM,OAAO,OAAO,CAAC,MAAO,MACtD,EA9LI,UA0FJ,SAAmB,CAAG,EAClB,OAAO,IAAIX,QAAQ,SAAU,CAAO,CAAE,CAAM,EACxC,IAAI,EAAQ,IAAIY,KAChB,GAAM,MAAM,CAAG,WACX,EAAQ,EACZ,EACA,EAAM,OAAO,CAAG,EAChB,EAAM,GAAG,CAAG,CAChB,EACJ,EAlGI,MA+LJ,SAAe,CAAI,EACf,IAAI,EAAa,EAAG,EAAM,qBACtBL,EAAc,EAAG,EAAM,sBAC3B,OAAO,EAAK,WAAW,CAAG,EAAaA,CAC3C,EAlMI,OAoMJ,SAAgB,CAAI,EAChB,IAAIR,EAAY,EAAG,EAAM,oBACrB,EAAe,EAAG,EAAM,uBAC5B,OAAO,EAAK,YAAY,CAAGA,EAAY,CAC3C,CAvMA,EAwBA,SAAS,EAAe,CAAG,EACvB,IAAI,EAAQ,kBAAkB,IAAI,CAAC,UACnC,AAAI,EAAc,CAAK,CAAC,EAAE,CACd,EAChB,CA6KA,SAAS,EAAG,CAAI,CAAE,CAAa,EAE3B,OAAOc,WAAW,AADNZ,OAAO,gBAAgB,CAAC,GAAM,gBAAgB,CAAC,GACnC,OAAO,CAAC,KAAM,IAC1C,CACJ,IArjBI,EAAU,AAujBd,WACI,IAAI,EAAY,8BAEhB,MAAO,CACH,UAyCJ,SAAmB,CAAM,CAAE,CAAO,CAAE,CAAG,SACnC,AAeY,EAAc,GAbnBD,QAAQ,OAAO,CAAC,GAClB,IAAI,CAACO,GACL,IAAI,CAAC,SAAU,CAAI,EAChB,IAAI,EAAOP,QAAQ,OAAO,CAAC,GAM3B,OALA,EAAK,OAAO,CAAC,SAAU,CAAG,EACtB,EAAO,EAAK,IAAI,CAAC,SAAU,CAAM,EAC7B,OAAO,EAAO,EAAQ,EAAK,EAAS,EACxC,EACJ,GACO,CACX,GAZ0BA,QAAQ,OAAO,CAAC,EAiBlD,EA1DI,cAAe,EACf,KAAM,CACF,SAAUO,EACV,OAAQ,CACZ,CACJ,EAEA,SAAS,EAAc,CAAM,EACzB,OAAO,AAA6B,KAA7B,EAAO,MAAM,CAAC,EACzB,CAEA,SAASA,EAAS,CAAM,EAGpB,IAFA,IACI,EADA,EAAS,EAAE,CAER,AAAqC,OAApC,GAAQ,EAAU,IAAI,CAAC,EAAM,GACjC,EAAO,IAAI,CAAC,CAAK,CAAC,EAAE,EAExB,OAAO,EAAO,MAAM,CAAC,SAAU,CAAG,EAC9B,MAAO,CAAC,EAAK,SAAS,CAAC,EAC3B,EACJ,CAEA,SAAS,EAAO,CAAM,CAAE,CAAG,CAAE,CAAO,CAAE,CAAG,EACrC,OAAOP,QAAQ,OAAO,CAAC,GAClB,IAAI,CAAC,SAAU,CAAG,EACf,OAAO,EAAU,EAAK,UAAU,CAAC,EAAK,GAAW,CACrD,GACC,IAAI,CAAC,GAAO,EAAK,YAAY,EAC7B,IAAI,CAAC,SAAU,CAAI,EAChB,OAAO,EAAK,SAAS,CAAC,EAAM,EAAK,QAAQ,CAAC,GAC9C,GACC,IAAI,CAAC,SAAU,CAAO,MAIP,EAHZ,OAAO,EAAO,OAAO,EAGT,EAHqB,EAI9B,AAAIc,OAAO,kBAAoB,EAAK,MAAM,CAAC,GAAO,eAAgB,MAJ9B,KAAO,EAAU,KAC5D,EAKR,CAqBJ,IAtnBI,EAAY,AAwnBhB,WACI,MAAO,CACH,WAMJ,WACI,OAAO,EAAQT,UACV,IAAI,CAAC,SAAU,CAAQ,EACpB,OAAOL,QAAQ,GAAG,CACd,EAAS,GAAG,CAAC,SAAU,CAAO,EAC1B,OAAO,EAAQ,OAAO,EAC1B,GAER,GACC,IAAI,CAAC,SAAU,CAAU,EACtB,OAAO,EAAW,IAAI,CAAC,KAC3B,EACR,EAjBI,KAAM,CACF,QAAS,CACb,CACJ,EAgBA,SAAS,IACL,OAAOA,QAAQ,OAAO,CAAC,EAAK,OAAO,CAACK,SAAS,WAAW,GACnD,IAAI,CAgBT,SAAqB,CAAW,EAC5B,IAAI,EAAW,EAAE,CAQjB,OAPA,EAAY,OAAO,CAAC,SAAU,CAAK,EAC/B,GAAI,CACA,EAAK,OAAO,CAAC,EAAM,QAAQ,EAAI,EAAE,EAAE,OAAO,CAAC,EAAS,IAAI,CAAC,IAAI,CAAC,GAClE,CAAE,MAAOU,EAAG,CAEZ,CACJ,GACO,CACX,GAzBK,IAAI,CAKT,SAA4B,CAAQ,EAChC,OAAO,EACF,MAAM,CAAC,SAAU,CAAI,EAClB,OAAO,EAAK,IAAI,GAAKC,QAAQ,cAAc,AAC/C,GACC,MAAM,CAAC,SAAU,CAAI,EAClB,OAAO,EAAQ,aAAa,CAAC,EAAK,KAAK,CAAC,gBAAgB,CAAC,OAC7D,EACR,GAZK,IAAI,CAAC,SAAU,CAAK,EACjB,OAAO,EAAM,GAAG,CAAC,EACrB,GAwBJ,SAAS,EAAW,CAAW,EAC3B,MAAO,CACH,QAAS,WACL,IAAI,EAAU,AAAC,GAAY,gBAAgB,EAAI,CAAC,GAAG,IAAI,CACvD,OAAO,EAAQ,SAAS,CAAC,EAAY,OAAO,CAAE,EAClD,EACA,IAAK,WACD,OAAO,EAAY,KAAK,CAAC,gBAAgB,CAAC,MAC9C,CACJ,CACJ,CACJ,CACJ,IAvrBIb,EAAS,AAyrBb,WACI,MAAO,CACH,UA6BJ,SAAS,EAAU,CAAI,MAeO,EAClB,SAfR,AAAM,aAAgBc,QAEf,AAeH,EAFI,EAAa,CADK,EAZF,GAaE,KAAK,CAAC,gBAAgB,CAAC,eAItC,EAAQ,SAAS,CAAC,GACpB,IAAI,CAAC,SAAU,CAAO,EACnB,EAAK,KAAK,CAAC,WAAW,CAClB,aACA,EACA,EAAK,KAAK,CAAC,mBAAmB,CAAC,cAEvC,GACC,IAAI,CAAC,WACF,OAAO,CACX,GAZoBjB,QAAQ,OAAO,CAAC,EAAK,EAd5C,IAAI,CAAC,kBACF,AAAI,aAAgBkB,iBACT,EAAS,GAAM,MAAM,GAErBlB,QAAQ,GAAG,CACd,EAAK,OAAO,CAAC,EAAK,UAAU,EAAE,GAAG,CAAC,SAAU,CAAK,EAC7C,OAAO,EAAU,EACrB,GAEZ,GAZmCA,QAAQ,OAAO,CAAC,EA+B3D,EA5DI,KAAM,CACF,SAAU,CACd,CACJ,EAEA,SAAS,EAASe,CAAO,EACrB,MAAO,CACH,OAGJ,SAAgB,CAAG,SACf,AAAI,EAAK,SAAS,CAACA,EAAQ,GAAG,EAAUf,QAAQ,OAAO,GAEhDA,QAAQ,OAAO,CAACe,EAAQ,GAAG,EAC7B,IAAI,CAAC,GAAO,EAAK,YAAY,EAC7B,IAAI,CAAC,SAAU,CAAI,EAChB,OAAO,EAAK,SAAS,CAAC,EAAM,EAAK,QAAQ,CAACA,EAAQ,GAAG,EACzD,GACC,IAAI,CAAC,SAAU,CAAO,EACnB,OAAO,IAAIf,QAAQ,SAAU,CAAO,CAAEO,CAAM,EACxCQ,EAAQ,MAAM,CAAG,EACjBA,EAAQ,OAAO,CAAGR,EAClBQ,EAAQ,GAAG,CAAG,CAClB,EACJ,EACR,CAjBA,CAkBJ,CAmCJ,MApvBsB,OAKlB,EAAa,CACb,MAAO,EACP,MAwFJ,SAAe,CAAI,CAAE,CAAO,EACxB,OAAO,EAAK,EAAM,GAAW,CAAC,GACzB,IAAI,CAAC,SAAU,CAAM,EAClB,OAAO,EAAO,SAAS,EAC3B,EACR,EA5FI,OAmGJ,SAAgB,CAAI,CAAE,CAAO,EAEzB,OAAO,EAAK,EADZ,EAAU,GAAW,CAAC,GAEjB,IAAI,CAAC,SAAU,CAAM,EAClB,OAAO,EAAO,SAAS,CAAC,aAAc,EAAQ,OAAO,EAAI,EAC7D,EACR,EAxGI,OA+GJ,SAAgB,CAAI,CAAE,CAAO,EACzB,OAAO,EAAK,EAAM,GAAW,CAAC,GACzB,IAAI,CAAC,EAAK,YAAY,CAC/B,EAjHI,YAoEJ,SAAqB,CAAI,CAAE,CAAO,EAC9B,OAAO,EAAK,EAAM,GAAW,CAAC,GACzB,IAAI,CAAC,SAAU,CAAM,EAClB,OAAO,EAAO,UAAU,CAAC,MAAM,YAAY,CACvC,EACA,EACA,EAAK,KAAK,CAAC,GACX,EAAK,MAAM,CAAC,IACd,IAAI,AACV,EACR,EA7EI,KAAM,CACF,UAAW,EACX,OAAQZ,EACR,KAAM,EACN,QAAS,EACT,QAAS,CAAC,CACd,CACJ,EAuBA,SAAS,EAAM,CAAI,CAAE,CAAO,MAoFP,EAjFjB,OAmFG,AAAqC,SAA9B,CAFO,EAnFjB,EAAU,GAAW,CAAC,GAqFJ,gBAAgB,CAC9B,EAAW,IAAI,CAAC,OAAO,CAAC,gBAAgB,GAExC,EAAW,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAG,EAAQ,gBAAgB,CAGpE,AAA8B,SAAvB,EAAQ,SAAS,CACvB,EAAW,IAAI,CAAC,OAAO,CAAC,SAAS,CApI1B,GAsIP,EAAW,IAAI,CAAC,OAAO,CAAC,SAAS,CAAG,EAAQ,SAAS,CA5FlDH,QAAQ,OAAO,CAAC,GAClB,IAAI,CAAC,SAAU,CAAI,EAChB,OAAO,AAuHnB,SAAS,EAAU,CAAI,CAAE,CAAM,CAAE,CAAI,SACjC,AAAI,AAAC,IAAQ,GAAW,EAAO,GAExBA,QAAQ,OAAO,CAAC,GAClB,IAAI,CAQT,SAAsB,CAAI,SACtB,AAAI,aAAgBmB,kBAA0B,EAAK,SAAS,CAAC,EAAK,SAAS,IACpE,EAAK,SAAS,CAAC,GAC1B,GAVK,IAAI,CAAC,SAAU,CAAK,MAYF,EAAU,EAAO,EAChC,EAQ0B,EAAQ,EAAUC,EACxC,EArBJ,OAWe,EAXM,EAWI,EAXE,EAWK,EAXE,EAatC,AAAI,AAAoB,IAApB,CADA,EAAW,EAAS,UAAU,EACrB,MAAM,CAAepB,QAAQ,OAAO,CAAC,GAE3C,CAKuB,EALF,EAKU,EALH,EAAK,OAAO,CAAC,GAKAoB,EALW,EAMnD,EAAOpB,QAAQ,OAAO,GAC1B,EAAS,OAAO,CAAC,SAAU,CAAK,EAC5B,EAAO,EACF,IAAI,CAAC,WACF,OAAO,EAAU,EAAOoB,EAC5B,GACC,IAAI,CAAC,SAAU,CAAU,EAClB,GAAY,EAAO,WAAW,CAAC,EACvC,EACR,GACO,GAfN,IAAI,CAAC,WACF,OAAO,CACX,EAjBJ,GACC,IAAI,CAAC,SAAU,CAAK,MAiCH,EAAU,EAhCxB,OAgCc,EAhCM,EAiCxB,AAAM,CADsB,EAhCE,aAiCPH,QAEhBjB,QAAQ,OAAO,GACjB,IAAI,CAQT,eAGuB,EAAQD,EAIC,EAAQ,EAJjB,EAFTE,OAAO,gBAAgB,CAAC,GAEPF,EAFkB,EAAM,KAAK,CAGhD,EAAO,OAAO,CAAEA,EAAO,OAAO,CAAG,EAAO,OAAO,EAG3B,EAFJ,EAEY,EAFJA,EAGxB,EAAK,OAAO,CAAC,GAAQ,OAAO,CAAC,SAAU,CAAI,EACvC,EAAO,WAAW,CACd,EACA,EAAO,gBAAgB,CAAC,GACxB,EAAO,mBAAmB,CAAC,GAEnC,GAGZ,GAxBK,IAAI,CA0BT,WACI,CAAC,UAAW,SAAS,CAAC,OAAO,CAAC,SAAUgB,CAAO,GAC3C,AAGJ,SAA4BA,CAAO,EAC/B,IAAI,EAAQd,OAAO,gBAAgB,CAAC,EAAUc,GAC1C,EAAU,EAAM,gBAAgB,CAAC,WAErC,GAAI,AAAY,KAAZ,GAAkB,AAAY,SAAZ,GAEtB,IAMkC,EAAW,EAAS,EAK3BM,EACf,EAIqB,EARzB,EARJ,EAAY,EAAK,GAAG,EACxB,GAAM,SAAS,CAAG,EAAM,SAAS,CAAG,IAAM,EAC1C,IAAI,EAAehB,SAAS,aAAa,CAAC,SAC1C,EAAa,WAAW,EAGU,EAHgB,EAGL,EAHgBU,EAKrD,EAAU,CAFoC,EAHgB,GAK9C,OAAO,EAInB,EAAU,CADKM,EAHqB,GAIpB,gBAAgB,CAAC,WAC9BA,EAAM,OAAO,CAAG,aAAe,EAAU,MAGvB,EAR4C,EAU9D,EAAK,OAAO,CAAC,GACf,GAAG,CAGR,SAAwB,CAAI,EACxB,OAAO,EAAO,KACV,EAAM,gBAAgB,CAAC,GACtB,GAAM,mBAAmB,CAAC,GAAQ,cAAgB,EAAC,CAC5D,GANK,IAAI,CAAC,MAAQ,KAXfhB,SAAS,cAAc,CAAC,AAFhB,IAAM,EAAY,IAAM,EAEG,IAAM,EAAU,OAL9D,EAAM,WAAW,CAAC,GAyBtB,EAtCuBU,EACvB,EAsCJ,GAlEK,IAAI,CAoET,WACQ,aAAoBO,qBAAqB,GAAM,SAAS,CAAG,EAAS,KAAK,AAAD,EACxE,aAAoBC,kBAAkB,EAAM,YAAY,CAAC,QAAS,EAAS,KAAK,CACxF,GAtEK,IAAI,CAwET,WACU,aAAiBC,aACvB,EAAM,YAAY,CAAC,QAAS,8BAEtB,aAAiBC,gBACvB,CAAC,QAAS,SAAS,CAAC,OAAO,CAAC,SAAU,CAAS,EAC3C,IAAI,EAAQ,EAAM,YAAY,CAAC,GAC1B,GAEL,EAAM,KAAK,CAAC,WAAW,CAAC,EAAW,EACvC,GACJ,GAlFK,IAAI,CAAC,WACF,OAAO,CACX,GAToC,CAhCxC,GATyCzB,QAAQ,OAAO,EAoIhE,EA5P6B,EAAM,EAAQ,MAAM,CAAE,GAC3C,GACC,IAAI,CAAC,GACL,IAAI,CAAC,GACL,IAAI,CAQT,SAAsB,CAAK,EAWvB,OAVI,EAAQ,OAAO,EAAE,GAAM,KAAK,CAAC,eAAe,CAAG,EAAQ,OAAO,AAAD,EAE7D,EAAQ,KAAK,EAAE,GAAM,KAAK,CAAC,KAAK,CAAG,EAAQ,KAAK,CAAG,IAAG,EACtD,EAAQ,MAAM,EAAE,GAAM,KAAK,CAAC,MAAM,CAAG,EAAQ,MAAM,CAAG,IAAG,EAEzD,EAAQ,KAAK,EACb0B,OAAO,IAAI,CAAC,EAAQ,KAAK,EAAE,OAAO,CAAC,SAAU,CAAQ,EACjD,EAAM,KAAK,CAAC,EAAS,CAAG,EAAQ,KAAK,CAAC,EAAS,AACnD,GAEG,CACX,GAnBK,IAAI,CAAC,SAAU,CAAK,MA0QL,EAAM,EAAO,EAzQzB,OAyQY,EAzQU,EAyQJ,EAxQd,EAAQ,KAAK,EAAI,EAAK,KAAK,CAAC,GAwQP,EAvQrB,EAAQ,MAAM,EAAI,EAAK,MAAM,CAAC,GAwQnC1B,QAAQ,OAAO,CAAC,GAClB,IAAI,CAAC,SAAU,CAAI,EAEhB,OADA,EAAK,YAAY,CAAC,QAAS,gCACpB,IAAI2B,gBAAgB,iBAAiB,CAAC,EACjD,GACC,IAAI,CAAC,EAAK,WAAW,EACrB,IAAI,CAAC,SAAU,CAAK,EACjB,MAAO,yDAA2D,EAAQ,kBAC9E,GACC,IAAI,CAAC,SAAU,CAAa,EACzB,MAAO,kDAAoD,EAAQ,aAAe,EAAS,KACvF,EAAgB,QACxB,GACC,IAAI,CAAC,SAAU,CAAG,EACf,MAAO,oCAAsC,CACjD,EArRA,EAeR,CAqEA,SAAS,EAAK,CAAO,CAAE,CAAO,EAC1B,OAAO,EAAM,EAAS,GACjB,IAAI,CAAC,EAAK,SAAS,EACnB,IAAI,CAAC,EAAK,KAAK,CAAC,MAChB,IAAI,CAAC,SAAU,CAAK,EACjB,IAAI,EAAS,AAKrB,SAAmB,CAAO,EACtB,IAAI,EAAStB,SAAS,aAAa,CAAC,UAIpC,GAHA,EAAO,KAAK,CAAG,EAAQ,KAAK,EAAI,EAAK,KAAK,CAAC,GAC3C,EAAO,MAAM,CAAG,EAAQ,MAAM,EAAI,EAAK,MAAM,CAAC,GAE1C,EAAQ,OAAO,CAAE,CACjB,IAAI,EAAM,EAAO,UAAU,CAAC,KAC5B,GAAI,SAAS,CAAG,EAAQ,OAAO,CAC/B,EAAI,QAAQ,CAAC,EAAG,EAAG,EAAO,KAAK,CAAE,EAAO,MAAM,CAClD,CAEA,OAAO,CACX,EAjB+B,GAEvB,OADA,EAAO,UAAU,CAAC,MAAM,SAAS,CAAC,EAAO,EAAG,GACrC,CACX,EAeR,CAyIA,SAAS,EAAW,CAAI,EACpB,OAAO,EAAU,UAAU,GACtB,IAAI,CAAC,SAAU,CAAO,EACnB,IAAI,EAAYA,SAAS,aAAa,CAAC,SAGvC,OAFA,EAAK,WAAW,CAAC,GACjB,EAAU,WAAW,CAACA,SAAS,cAAc,CAAC,IACvC,CACX,EACR,CAEA,SAAS,EAAa,CAAI,EACtB,OAAOF,EAAO,SAAS,CAAC,GACnB,IAAI,CAAC,WACF,OAAO,CACX,EACR,CAtSI,EAAO,OAAO,CAAG,CAguBzB,EAAG,E,+BC9vBH,IAAI,EAAc,EAAE,CACpB,SAAS,EAAqB,CAAU,EAEtC,IAAK,IADD,EAAS,GACJ,EAAI,EAAG,EAAI,EAAY,MAAM,CAAE,IACtC,GAAI,CAAW,CAAC,EAAE,CAAC,UAAU,GAAK,EAAY,CAC5C,EAAS,EACT,KACF,CAEF,OAAO,CACT,CACA,SAAS,EAAa,CAAI,CAAE,CAAO,EAGjC,IAAK,IAFD,EAAa,CAAC,EACdA,EAAc,EAAE,CACX,EAAI,EAAG,EAAI,EAAK,MAAM,CAAE,IAAK,CACpC,IAAI,EAAO,CAAI,CAAC,EAAE,CACd,EAAK,EAAQ,IAAI,CAAG,CAAI,CAAC,EAAE,CAAG,EAAQ,IAAI,CAAG,CAAI,CAAC,EAAE,CACpD,EAAQ,CAAU,CAAC,EAAG,EAAI,EAC1B,EAAa,GAAG,MAAM,CAAC,EAAI,KAAK,MAAM,CAAC,EAC3C,EAAU,CAAC,EAAG,CAAG,EAAQ,EACzB,IAAI,EAAoB,EAAqB,GACzC,EAAM,CACR,IAAK,CAAI,CAAC,EAAE,CACZ,MAAO,CAAI,CAAC,EAAE,CACd,UAAW,CAAI,CAAC,EAAE,CAClB,SAAU,CAAI,CAAC,EAAE,CACjB,MAAO,CAAI,CAAC,EAAE,AAChB,EACA,GAAI,AAAsB,KAAtB,EACF,CAAW,CAAC,EAAkB,CAAC,UAAU,GACzC,CAAW,CAAC,EAAkB,CAAC,OAAO,CAAC,OAClC,CACL,IAAI,EAAU,AAYpB,SAAyB,CAAG,CAAE,CAAO,EACnC,IAAI,EAAM,EAAQ,MAAM,CAAC,UACzB,EAAI,MAAM,CAAC,GACG,SAAiB,CAAM,EAC/B,EACE,GAAO,GAAG,GAAK,EAAI,GAAG,EAAI,EAAO,KAAK,GAAK,EAAI,KAAK,EAAI,EAAO,SAAS,GAAK,EAAI,SAAS,EAAI,EAAO,QAAQ,GAAK,EAAI,QAAQ,EAAI,EAAO,KAAK,GAAK,EAAI,KAAK,AAAD,GAG/J,EAAI,MAAM,CAAC,EAAM,GAEjB,EAAI,MAAM,EAEd,CAEF,EA1BoC,EAAK,EACnC,GAAQ,OAAO,CAAG,EAClB,EAAY,MAAM,CAAC,EAAG,EAAG,CACvB,WAAY,EACZ,QAAS,EACT,WAAY,CACd,EACF,CACAA,EAAY,IAAI,CAAC,EACnB,CACA,OAAOA,CACT,CAgBA,EAAO,OAAO,CAAG,SAAU,CAAI,CAAEyB,CAAO,EAGtC,IAAI,EAAkB,EADtB,EAAO,GAAQ,EAAE,CADjBA,EAAUA,GAAW,CAAC,GAGtB,OAAO,SAAgB,CAAO,EAC5B,EAAU,GAAW,EAAE,CACvB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAgB,MAAM,CAAE,IAAK,CAE/C,IAAI,EAAQ,EADK,CAAe,CAAC,EAAE,CAEnC,EAAW,CAAC,EAAM,CAAC,UAAU,EAC/B,CAEA,IAAK,IADD,EAAqB,EAAa,EAASA,GACtC,EAAK,EAAG,EAAK,EAAgB,MAAM,CAAE,IAAM,CAElD,IAAI,EAAS,EADK,CAAe,CAAC,EAAG,CAEE,KAAnC,CAAW,CAAC,EAAO,CAAC,UAAU,GAChC,CAAW,CAAC,EAAO,CAAC,OAAO,GAC3B,EAAY,MAAM,CAAC,EAAQ,GAE/B,CACA,EAAkB,CACpB,CACF,C,+BCjFA,IAAI,EAAO,CAAC,CA+BZ,GAAO,OAAO,CAPd,SAA0B,CAAM,CAAE,CAAK,EACrC,IAAI,EAAS,AAtBf,SAAmB,CAAM,EACvB,GAAI,AAAwB,SAAjB,CAAI,CAAC,EAAO,CAAkB,CACvC,IAAI,EAAcvB,SAAS,aAAa,CAAC,GAGzC,GAAIJ,OAAO,iBAAiB,EAAI,aAAuBA,OAAO,iBAAiB,CAC7E,GAAI,CAGF,EAAc,EAAY,eAAe,CAAC,IAAI,AAChD,CAAE,MAAOc,EAAG,CAEV,EAAc,IAChB,CAEF,CAAI,CAAC,EAAO,CAAG,CACjB,CACA,OAAO,CAAI,CAAC,EAAO,AACrB,EAIyB,GACvB,GAAI,CAAC,EACH,MAAM,AAAIc,MAAM,2GAElB,EAAO,WAAW,CAAC,EACrB,C,8BCvBA,GAAO,OAAO,CANd,SAA4B,CAAO,EACjC,IAAI,EAAUxB,SAAS,aAAa,CAAC,SAGrC,OAFA,EAAQ,aAAa,CAAC,EAAS,EAAQ,UAAU,EACjD,EAAQ,MAAM,CAAC,EAAS,EAAQ,OAAO,EAChC,CACT,C,kCCCA,GAAO,OAAO,CANd,SAAwC,CAAY,EAClD,IAAI,EAAmD,IAAiB,AACpE,IACF,EAAa,YAAY,CAAC,QAAS,EAEvC,C,8BCoDA,GAAO,OAAO,CAjBd,SAAgB,CAAO,EACrB,GAAI,AAAoB,aAApB,OAAOA,SACT,MAAO,CACL,OAAQ,WAAmB,EAC3B,OAAQ,WAAmB,CAC7B,EAEF,IAAI,EAAe,EAAQ,kBAAkB,CAAC,GAC9C,MAAO,CACL,OAAQ,SAAgB,CAAG,MAhDzB,EAOA,EAcA,EArBA,EAAM,GACN,AAgD6B,EAhDzB,QAAQ,EACd,IAAO,cAAc,MAAM,CAAC,AA+CG,EA/CC,QAAQ,CAAE,MAAK,EAE7C,AA6C6B,EA7CzB,KAAK,EACX,IAAO,UAAU,MAAM,CAAC,AA4CO,EA5CH,KAAK,CAAE,KAAI,EAGrC,CADA,EAAY,AAAqB,SAAd,AA0CU,EA1CN,KAAK,GAE9B,IAAO,SAAS,MAAM,CAAC,AAwCQ,EAxCJ,KAAK,CAAC,MAAM,CAAG,EAAI,IAAI,MAAM,CAAC,AAwC1B,EAxC8B,KAAK,EAAI,GAAI,KAAI,EAEhF,GAAO,AAsC0B,EAtCtB,GAAG,CACV,GACF,IAAO,GAAE,EAEP,AAkC6B,EAlCzB,KAAK,EACX,IAAO,GAAE,EAEP,AA+B6B,EA/BzB,QAAQ,EACd,IAAO,GAAE,EAGP,CADA,EAAY,AA4BiB,EA5Bb,SAAS,GACZ,AAAgB,aAAhB,OAAOV,MACtB,IAAO,uDAAuD,MAAM,CAACA,KAAKC,SAASC,mBAAmBC,KAAK,SAAS,CAAC,MAAe,MAAK,EAK3I,AAqBwB,EArBhB,iBAAiB,CAAC,EAqBhB,EArBmC,AAqBrB,EArB6B,OAAO,CAsB1D,EACA,OAAQ,YACN,AAtBN,SAA4B,CAAY,EAEtC,GAAI,AAA4B,OAA5B,EAAa,UAAU,CAG3B,EAAa,UAAU,CAAC,WAAW,CAAC,EACtC,EAgByB,EACrB,CACF,CACF,C,8BC9CA,GAAO,OAAO,CAVd,SAA2B,CAAG,CAAE,CAAY,EAC1C,GAAI,EAAa,UAAU,CACzB,EAAa,UAAU,CAAC,OAAO,CAAG,MAC7B,CACL,KAAO,EAAa,UAAU,EAC5B,EAAa,WAAW,CAAC,EAAa,UAAU,EAElD,EAAa,WAAW,CAACO,SAAS,cAAc,CAAC,GACnD,CACF,C,iJCXA,EAAoB,CAAC,CAAG,AAAC,IACxB,IAAI,EAAS,GAAU,EAAO,UAAU,CACvC,IAAO,EAAO,OAAU,CACxB,IAAO,EAER,OADA,EAAoB,CAAC,CAAC,EAAQ,CAAE,EAAG,CAAO,GACnC,CACR,ECPA,EAAoB,CAAC,CAAG,CAACU,EAAS,KACjC,IAAI,IAAI,KAAO,EACL,EAAoB,CAAC,CAAC,EAAY,IAAQ,CAAC,EAAoB,CAAC,CAACA,EAAS,IACzEW,OAAO,cAAc,CAACX,EAAS,EAAK,CAAE,WAAY,GAAM,IAAK,CAAU,CAAC,EAAI,AAAC,EAGzF,ECNA,EAAoB,CAAC,CAAG,CAAC,EAAK,IAAUW,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,EAAK,GCAlF,EAAoB,EAAE,CAAG,OCAzB,EAAoB,EAAE,CAAG,IAAO,SCAhC,EAAoB,IAAI,CAAG,wB,yCCyC3B,IAAMI,EAAU,MAAOC,EAAkBC,EAAgBC,EAAY,EAAK,IACxE,IAAMC,EAAM,IAAIC,GAAG,GAAG,CAQtB,OAAOC,AA7CF,SACLC,CAAkB,CAClBJ,EAAY,EAAK,CACjBK,CAAwC,CACxCC,CAAwC,EAExC,IAAMC,EAAUC,EAAE,CAAC,aAAa,EAAEJ,EAAa,EAAI,EAAE,wBAAwB,CAAC,EACxEK,EAAUD,EAAE,CAAC,aAAa,EAAEJ,EAAa,EAAI,EAAE,wBAAwB,CAAC,EAC1EM,MAAM,OAAO,CALjBL,KAAAA,GAMEE,EAAQ,MAAM,IANhBF,KAAAA,GAQEE,EAAQ,MAAM,CAACF,GAAkB,OAE/BK,MAAM,OAAO,CATjBJ,KAAAA,GAUEG,EAAQ,MAAM,IAVhBH,KAAAA,GAYEG,EAAQ,MAAM,CAACH,GAAkB,OAEnC,IAAMK,EAAYH,EAAE,6BAA6B,MAAM,CAACD,EAASE,GAEjE,OAAOD,EAAE,qEAAqE,MAAM,CAClFJ,GAFiB,8HAGjBI,EAAE,aAAa,MAAM,CACnBR,EAAYW,EAAY,GACxBP,GAAc,6FAGpB,EAkBoBQ,AAPN,OAAMX,EAAI,IAAI,CAAC,CACzB,OAAQ,UACRH,SAAAA,EACAC,OAAAA,EACA,MAAO,GACP,UAAW,UACb,EAAC,EACqB,OAAO,CAAC,IAAI,CAAEC,EACtC,EC5CMa,EAAa,MAAOC,EAAeC,KACvC,IAAMd,EAAM,IAAIC,GAAG,GAAG,CAQhB,CAACc,EAAS,CAAGvB,OAAO,MAAM,CAACmB,AAPrB,OAAMX,EAAI,IAAI,CAAC,CACzB,OAAQ,QACR,KAAM,YACN,OAAQa,EACR,OAAQ,UACR,GAAGC,CAAM,AACX,EAAC,EACoC,KAAK,CAAC,KAAK,EAChD,GAAI,cAAeC,EACjB,OAAOA,EAAS,SAAS,EAAE,CAAC,EAAE,CAAC,IAAI,CAErC,GAAI,YAAaA,EACf,KAAO,cAEX,E,yHCZI,EAAU,CAAC,CAEf,GAAQ,iBAAiB,CAAG,IAC5B,EAAQ,aAAa,CAAG,IAElB,EAAQ,MAAM,CAAG,QAAa,CAAC,KAAM,QAE3C,EAAQ,MAAM,CAAG,IACjB,EAAQ,kBAAkB,CAAG,IAEhB,IAAI,GAAO,CAAE,GAKJ,GAAO,EAAI,UAAc,EAAG,UAAc,CCtBhER,EAAE,IAAO,WACP,GAAIN,AAAgC,qBAAhCA,GAAG,MAAM,CAAC,GAAG,CAAC,cAAsC,CAClD,aAAclC,SAChB,MAAMkC,GAAG,MAAM,CAAC,KAAK,CAAC,kBACtBA,GAAG,IAAI,CAAC,cAAc,CAAC,OAAQ,oBAAqB,SAAU,eAEhE,MACF,CACA,MAAMA,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,gBAAiB,UAAW,yBAAyB,EAG5E,IAAMe,EAAc,MAAOnB,EAAkBC,KAC3C,GAAI,CAEF,OADY,MAAMF,AHoCTA,EGpCiBC,EAAUC,EAEtC,CAAE,MAAOmB,EAAO,CACdhB,GAAG,MAAM,CAAC,CAAC,wDAAO,EAAEgB,EAAM,CAAC,CAAE,CAAE,KAAM,MAAO,EAC9C,CACF,EAGMC,EAAY,MAAOL,IACvB,GAAI,CACF,OAAO,MAAMD,AFFJA,EEEeC,EAC1B,CAAE,MAAOI,EAAO,CACdhB,GAAG,MAAM,CAAC,CAAC,gEAAQ,EAAEgB,EAAM,CAAC,CAAE,CAAE,KAAM,MAAO,EAC/C,CACAhB,GAAG,MAAM,CAAC,UACZ,EAEAM,EAAE,yBAAyB,QAAQ,CAAC,QACpCN,GAAG,MAAM,CAAC,GAAG,CAAC,6BAA8B,YAC5C9B,SAAS,KAAK,CAAG,yBACjB8B,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EAAEA,GAAG,MAAM,CAAC,GAAG,CAAC,gBAAgB,mDAAmD,CAAC,CAAE,YACtGM,EAAE,0BAA0B,WAAW,CAAC,yBACxCA,EAAE,iBAAiB,IAAI,CAAC,6BACxBA,EAAE,eAAe,MAAM,GAEvB,IAAMY,EAAc,IAAIC,GAAG,EAAE,CAAC,wBAAwB,CAAC,CACrD,KAAM,GACN,QAAS,GACT,SAAU,EACZ,GAEMC,EAAc,IAAID,GAAG,EAAE,CAAC,eAAe,CAAC,CAC5C,cAAe,SACf,MAAO,KACT,GAEME,EAAiB,IAAIF,GAAG,EAAE,CAAC,YAAY,CAAC,CAC5C,MAAO,QACP,MAAO,CACL,cACD,CACD,GAAI,kBACN,GAEMG,EAAmBhB,EAAE,4CAA4C,MAAM,CAC3Ec,EAAY,QAAQ,CACpBC,EAAe,QAAQ,EAGnBE,EAAY,IAAIJ,GAAG,EAAE,CAAC,eAAe,CAAC,CAC1C,cAAe,SACf,MAAO,KACT,GAEMK,EAAe,IAAIL,GAAG,EAAE,CAAC,YAAY,CAAC,CAC1C,MAAO,QACP,MAAO,CACL,cACD,CACD,GAAI,kBACN,GAEMM,EAAmBnB,EAAE,4CAA4C,MAAM,CAC3EiB,EAAU,QAAQ,CAClBC,EAAa,QAAQ,EAGjBE,EAAY,IAAIP,GAAG,EAAE,CAAC,wBAAwB,CAAC,CACnD,KAAM,GACN,QAAS,GACT,SAAU,EACZ,GAEMQ,EAAe,IAAIR,GAAG,EAAE,CAAC,YAAY,CAAC,CAC1C,MAAO,KACP,MAAO,CACL,UACA,cACD,CACD,KAAM,QACN,GAAI,eACN,GAEMS,EAAa,IAAIT,GAAG,EAAE,CAAC,YAAY,CAAC,CACxC,MAAO,OACP,KAAM,WACN,GAAI,aACN,GAEMU,EAAa,IAAIV,GAAG,EAAE,CAAC,YAAY,CAAC,CACxC,MAAO,SACP,GAAI,aACN,GAEMW,EAAUxB,EAAE,gCAEZyB,EAAgBzB,EAAE,kCAAkC,MAAM,CAC9DsB,EAAW,QAAQ,CACnBC,EAAW,QAAQ,EACnB,IAAI,GAENvB,EAAE,oBAAoB,KAAK,GAAG,MAAM,CAClC,eACAY,EAAY,QAAQ,CACpBI,EACA,eACAI,EAAU,QAAQ,CAClBD,EACAE,EAAa,QAAQ,CACrB,cACAG,EACAC,GAyBFV,EAAe,EAAE,CAAC,QAAS,UACzB,IAAMW,EAAS,MAAMf,EAAUG,EAAY,QAAQ,GAC/CY,CAAAA,GACFd,EAAY,QAAQ,CAACc,EAEzB,GAEAR,EAAa,EAAE,CAAC,QAAS,UACvB,IAAMQ,EAAS,MAAMf,EAAUM,EAAU,QAAQ,GAC7CS,CAAAA,GACFN,EAAU,QAAQ,CAACM,EAEvB,GAEAL,EAAa,EAAE,CAAC,QAAS,UACvBA,EAAa,WAAW,CAAC,IACzB,GAAI,CACF,IAAMM,EAAS,MAAMlB,EAAYG,EAAY,QAAQ,GAAIQ,EAAU,QAAQ,IACvEO,IACFH,EAAQ,KAAK,GAAG,MAAM,CAACG,GACvBF,EAAc,IAAI,GAEtB,CAAE,MAAOf,EAAO,CACdhB,GAAG,MAAM,CAAC,CAAC,wCAAK,EAAEgB,EAAM,CAAC,CAAE,CAAE,KAAM,MAAO,EAC5C,CACAW,EAAa,WAAW,CAAC,GAC3B,GAEAC,EAAW,EAAE,CAAC,QAAS,KAhDrBM,IAAAA,MAAiB,CAACJ,EAAQ,GAAG,CAAC,GAAK,CAAE,QAAS,MAAO,GAAG,IAAI,CAAC,AAACK,IAC5D,IAAMC,EAAOlE,SAAS,aAAa,CAAC,IACpCkE,CAAAA,EAAK,QAAQ,CAAG,YAChBA,EAAK,IAAI,CAAGD,EACZC,EAAK,KAAK,EACZ,EA6CF,GAEAP,EAAW,EAAE,CAAC,QAAS,KA1CrBK,IAAAA,MAAiB,CAACJ,EAAQ,GAAG,CAAC,GAAK,CAAE,QAAS,MAAO,GAAG,IAAI,CAAC,AAACO,IAC5DC,UAAU,SAAS,CAAC,KAAK,CAAC,CAAC,IAAIC,cAAc,CAAE,YAAaF,CAAM,GAAG,EAAE,IAAI,CAAC,KAC1ErC,GAAG,MAAM,CAAC,OACZ,EAAG,AAACgB,IACFhB,GAAG,MAAM,CAAC,CAAC,wCAAK,EAAEgB,EAAM,CAAC,CAAE,CAAE,KAAM,MAAO,EAC5C,EACF,EAsCF,EACF,K"}