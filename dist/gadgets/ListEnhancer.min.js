(()=>{if(-1===mw.config.get("wgNamespaceNumber")){var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"复制成功",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"复制失败",s=t.text();navigator.clipboard.writeText(e).then((function(){t.text(n),setTimeout((function(){return t.text(s)}),3e3)}),(function(e){t.text(a),setTimeout((function(){return t.text(s)}),3e3)}))};switch(mw.config.get("wgCanonicalSpecialPageName")){case"Whatlinkshere":$("#mw-content-text>p>strong").after($("<a>[复制列表]</a>").on("click",(function(t){var n=[];$("#mw-whatlinkshere-list>li>a").each((function(e,t){n.push($(t).text())})),e(n.join("\n"),$(t.target),"[复制成功]","[复制失败]")})).css("padding-left",".6em"));break;case"Search":!function(){mw.loader.addStyleTag("\n        .search-types {\n            display: flex;\n            float: none;\n            align-items: center;\n        }\n        #bearbintools-searchplus {\n            padding: .5em;\n            user-select: none;\n        }\n        #bearbintools-searchplus a {\n            display: inline;\n            padding: 0;\n        }\n        .searchplus-edit {\n            margin-left: .5em;\n            float: right;\n        }\n        ");var t=!0,n=[],a=$(".search-types li").eq(1),s=a.clone(!1);s.children("a").text("替换空间").attr("title","主、模板等替换常用名字空间").attr("href",(function(e,t){return t.replace("profile=images","profile=advanced&limit=500&ns0=1&ns2=1&ns6=1&ns10=1&ns12=1&ns14=1&ns828=1")})),s.insertAfter(a),$("a[data-serp-pos]").each((function(e,t){n.push(decodeURIComponent($(t).attr("href")).replace("/","").replaceAll("_"," ")),$(t).before('<a class="searchplus-edit" href="'.concat(t.href,'?action=edit">[编辑]</a>'))}));var r=$("<a>隐藏详情</a>").on("click",(function(e){t?($(".searchresult, .mw-search-result-data").hide(),$(".mw-search-results li").css("padding-bottom","0.1em"),$(e.target).text("显示详情"),t=!1):($(".searchresult, .mw-search-result-data").show(),$(".mw-search-results li").css("padding-bottom",""),$(e.target).text("隐藏详情"),t=!0)})),i=$("<a>复制列表</a>").on("click",(function(t){e(n.join("\n"),$(t.target))}));$("#search .search-types, #powersearch .search-types").append($('<div id="bearbintools-searchplus"></div>').append('<span class="mw-editsection-bracket">[</span>',r,'<span class="mw-editsection-divider"> | </span>',i,'<span class="mw-editsection-bracket">]</span>')),$(".mw-search-pager-bottom").clone().prependTo($(".searchresults"))}()}}})();