(()=>{var e={},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}i.rv=()=>"1.4.2",i.ruid="bundler=rspack@1.4.2",-1===mw.config.get("wgNamespaceNumber")&&mw.config.get("wgTitle").replace(/.*\//g,"")!==mw.config.get("wgUserName")&&mw.loader.using(["mediawiki.api","oojs-ui"]).then(()=>{$(".mw-changeslist-line-inner, .mw-enhanced-rc-nested").each((e,t)=>{let i=$(t),a=i.closest("[data-mw-revid]").attr("data-mw-revid");if(!a||i.find("bdi").text()===mw.config.get("wgUserName"))return;let n=$('<a class="quick-thank">[感谢]</a>');n.on("click",async e=>{e.preventDefault(),await OO.ui.confirm("确定要感谢吗？",{title:"确认",size:"small"})&&(n.html('[感谢<span style="display:inline-block;animation:rotate 2s linear infinite;">↻</span>]'),new mw.Api().postWithToken("csrf",{format:"json",action:"thank",source:"diff",rev:a}).done(()=>{n.text("[感谢成功]"),setTimeout(()=>{n.remove()},3e3)}).fail(e=>{n.text(`[\u{611F}\u{8C22}\u{5931}\u{8D25}\u{FF1A}${e}]`),setTimeout(()=>{n.text("[感谢]")},3e3)}))}),i.append(n)})})})();
//# sourceMappingURL=QuickThank.min.js.map